{"type": "root", "attrs": {"index": "no"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Muscles"], "extent": [12, 24]}, {"type": "warning_group", "body": [{"ext": null, "type": "warning", "indent": 0, "text": ["Deprecated"], "role": "item", "extent": [24, 46], "body": [{"type": "para", "indent": 4, "text": ["The object-level Muscle tools are now deprecated pending the release of the new SOP-based ", {"scheme": null, "value": "/news/19/muscles", "type": "link", "text": ["Muscles & Tissue"], "fullpath": "/news/19/muscles"}, " system.\n    ", {"tag": "br", "attrs": {}, "type": "xml", "text": ""}], "extent": [46, 195]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/char/muscles.png", "type": "link", "text": "", "fullpath": "/images/char/muscles.png"}], "extent": [195, 229]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Using muscles to deform the skin of a character"], "extent": [229, 283], "body": [{"type": "para", "indent": 0, "text": ["This basic workflow describes how to add muscles to an animated character and use them as a skin deformer. This approach uses muscles to deform the skin of a character without having to perform any expensive physical simulations. The muscle system in Houdini accommodates a non-linear workflow, so it\u2019s possible to add and extend your character rig without following a rigid procedure."], "extent": [283, 671]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [671, 677], "body": [{"type": "para", "indent": 4, "text": ["It is not necessary to have a fully rigged and animated character to add muscles, but it is helpful to get immediate feedback as you build. For this example we will use the rigged and animated legs of a Tyrannosaurus."], "extent": [677, 903]}], "container": true}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Drawing muscles and attaching them to your rig"], "extent": [903, 958], "body": [{"type": "para", "indent": 0, "text": ["Start by clicking the ", {"scheme": "Icon", "value": "OBJ/muscle", "type": "link", "text": "", "fullpath": "/character/object_level/OBJ/muscle"}, {"scheme": null, "value": "/shelf/muscle_strokemuscle", "type": "link", "text": ["Stroke Muscle"], "fullpath": "/shelf/muscle_strokemuscle"}, " tool on the ", {"type": "ui", "text": ["Muscles"]}, " shelf, and selecting the skin object of your character. This puts you in a stroke state, where this skin is brought in as your projection geometry."], "extent": [958, 1214]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [1214, 1219], "body": [{"type": "para", "indent": 4, "text": ["You can modify the radius of your cursor by using the mouse wheel or by holding ", {"keys": ["Shift"], "type": "keys", "text": null}, " and dragging ", {"keys": ["LMB"], "type": "keys", "text": null}, "."], "extent": [1219, 1336]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Draw a stroke on the surface of the skin to create a proxy muscle. You can continue to restroke the same muscle until it is where you want it."], "extent": [1336, 1480]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/stroke_muscle.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/stroke_muscle.jpg"}], "extent": [1480, 1523]}, {"type": "para", "indent": 0, "text": ["The actual muscle position is projected at a depth, which you can control with the ", {"type": "ui", "text": ["Depth"]}, " parameter.  While in the stroke state, you can also modify the ", {"type": "ui", "text": ["Radius"]}, " or use the ramp on the ", {"type": "ui", "text": ["Stroke Profile"]}, " to change the silhouette of your muscle. "], "extent": [1523, 1775]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [1775, 1781], "body": [{"type": "para", "indent": 4, "text": ["You have the option of going back and refining the muscles later, so they don\u2019t have to be exact at this time."], "extent": [1781, 1897]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Once you are satisfied with the initial placement of your muscle, you can either press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to accept the stroke, or press ", {"type": "ui", "text": ["Accept Stroke"]}, " in the parameter dialog. You also have the option to ", {"type": "ui", "text": ["Accept and Create a New Stroke"]}, ", which will commit your stroke to the current muscle, but allow you to remain in the muscle stroke tool so you can create another. This allows you too quickly create multiple muscles on your character."], "extent": [1897, 2334]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [2334, 2340], "body": [{"type": "para", "indent": 4, "text": ["If you play your animation, you will notice that the muscle doesn\u2019t move with the character, because it isn\u2019t wired up to anything. Muscle nodes have two inputs. The first is the input of the parent for the head anchor (red). The second is the input for the parent of the tail anchor (green). "], "extent": [2340, 2639]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Connect the muscles to the bones using the ", {"scheme": "Icon", "value": "SHELF/muscle_attach", "type": "link", "text": "", "fullpath": "/character/object_level/SHELF/muscle_attach"}, {"scheme": null, "value": "/shelf/muscle_attachmuscles", "type": "link", "text": ["Attach To Bones"], "fullpath": "/shelf/muscle_attachmuscles"}, " shelf tool. Select the muscle you want to attach to your character rig and press ", {"keys": ["Enter"], "type": "keys", "text": null}, ", next select the head anchor and press ", {"keys": ["Enter"], "type": "keys", "text": null}, ", then select the tail anchor and press ", {"keys": ["Enter"], "type": "keys", "text": null}, "."], "extent": [2639, 2945]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/red_green.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/red_green.jpg"}], "extent": [2945, 2984]}, {"type": "para", "indent": 0, "text": ["This interactive way of attaching muscles in the viewport is handy when you have multiple muscles and complex rigs, where locating the nodes in the network tree requires a lot of searching."], "extent": [2984, 3175]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [3175, 3180], "body": [{"type": "para", "indent": 4, "text": ["Even though the tool is called ", {"type": "ui", "text": ["Attach to Bones"]}, ", you are not limited to attaching muscle anchors to bones. You can also attach them to objects and constraints."], "extent": [3180, 3348]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Changing the shapes of muscles using muscle handles"], "extent": [3348, 3408], "body": [{"type": "para", "indent": 0, "text": ["Press ", {"keys": ["Ctrl", "R"], "type": "keys", "text": null}, " to activate the pose state, which allows you to modify both translation and orientation of the muscles. You can apply the translation and rotation to multiple muscles at once by holding ", {"keys": ["Shift"], "type": "keys", "text": null}, " when you select them, and changing the dropdown to ", {"type": "ui", "text": ["Global Transform Handle"]}, ". This will merge all handles into one handle that will affect all selected objects."], "extent": [3408, 3788]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/handle.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/handle.jpg"}], "extent": [3788, 3824]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [3824, 3829], "body": [{"type": "para", "indent": 4, "text": ["For a clearer view of the inner handles when you are making edits, you can hide the outer geometry of the muscles by turning off the ", {"type": "ui", "text": ["Muscle"]}, " checkbox in the viewport for the selected muscle."], "extent": [3829, 4032]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/inside_handle.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/inside_handle.jpg"}], "extent": [4032, 4079]}], "container": true}, {"type": "tip", "indent": 0, "role": "item", "extent": [4079, 4084], "body": [{"type": "para", "indent": 4, "text": ["You can also use the muscles radial menu by making it the active menu. Pressing ", {"keys": ["C"], "type": "keys", "text": null}, " in the viewport will toggle it open. This is useful for quickly isolating and showing/hiding muscle objects. For more information, see the ", {"scheme": null, "value": "/basics/radialmenus", "type": "link", "text": ["Radial menus"], "fullpath": "/basics/radialmenus"}, " help page."], "extent": [4084, 4364]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/radial.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/radial.jpg"}], "extent": [4364, 4405]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Edit your muscles to push through the surface of the skin, so that the outer surfaces of the muscles bulge the skin out on the character. You can do this using the handles, and also the initial set up controls on the ", {"scheme": "Node", "value": "/nodes/obj/riggedmuscle", "type": "link", "text": ["Muscle object"], "fullpath": "/nodes/obj/riggedmuscle"}, ". On the ", {"type": "ui", "text": ["Geometry"]}, " tab there are parameters to define the initial shape of the muscle, before being deformed by they internal muscle rigs. For example, the ramp can change the ", {"type": "ui", "text": ["Profile Curve"]}, " of your muscle, and the minimum and maximum values will set the range of how the profile is applied.  For more information, see the ", {"scheme": "Node", "value": "/nodes/obj/riggedmuscle", "type": "link", "text": ["Muscle object"], "fullpath": "/nodes/obj/riggedmuscle"}, "."], "extent": [4405, 5028]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [5028, 5034], "body": [{"type": "para", "indent": 4, "text": ["The initial orientation of each handle is established by the surface normal vector of the stroke you drew when the muscle was created. The Y axis of the handles is aligned with that direction."], "extent": [5034, 5232]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Once you have your initial muscle positions set up, the parameter values must be saved in this condition as the capture pose. You can do this by selecting the muscles, and pressing the ", {"type": "ui", "text": ["Set Capture Pose"]}, " button on the  ", {"type": "ui", "text": ["Capture Deform"]}, " tab. Doing this freezes a copy of your muscle parameters so that they can be accessed by the rest of the tools wherever a muscle\u2019s capture pose is required."], "extent": [5232, 5630]}, {"type": "para", "indent": 0, "text": ["Next you can add secondary animation to the muscles automatically by turning on the ", {"type": "ui", "text": ["Use Jiggle"]}, " checkbox  on the ", {"type": "ui", "text": ["Jiggle"]}, " tab. This will enable jiggle and also allow you to control the behavior of the jiggle qualities. The body of the muscles will automatically have some overshoot and spring-back."], "extent": [5630, 5935]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [5935, 5941], "body": [{"type": "para", "indent": 4, "text": ["This is a quick way to add movement without needing to perform expensive simulations."], "extent": [5941, 6032]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Using muscles as a displacement deformer"], "extent": [6032, 6081], "body": [{"type": "para", "indent": 0, "text": ["Click the ", {"scheme": null, "value": "/shelf/muscle_displace", "type": "link", "text": ["Muscle Displace"], "fullpath": "/shelf/muscle_displace"}, " tool on the ", {"type": "ui", "text": ["Muscles"]}, " shelf, select the skin object, and then select the muscles to displace with. Right away you should be able to see a bulge effect on the thigh area."], "extent": [6081, 6306]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/bulge.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/bulge.jpg"}], "extent": [6306, 6341]}, {"type": "para", "indent": 0, "text": ["As you play your animation, you will see the skin adaptively deform wherever the muscles are pushing. The muscle movement is independent of the skin surface. The skin slides over and around the muscle volumes as the character moves, since the skin is not bound to the muscles directly."], "extent": [6341, 6628]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [6628, 6633], "body": [{"type": "para", "indent": 4, "text": ["On the ", {"scheme": "Node", "value": "/nodes/sop/muscledeform", "type": "link", "text": ["Muscle Deform SOP"], "fullpath": "/nodes/sop/muscledeform"}, " you can tweak the parameters for skin tightness and smoothing."], "extent": [6633, 6750]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Adding muscles to an existing displacement setup"], "extent": [6750, 6807], "body": [{"type": "para", "indent": 0, "text": ["Since the muscle workflow is entirely procedural, it is relatively simple to add muscles to the displacement setup. Once an additional muscle is built and attached to the rig, you need to incorporate it into the displacement. Simply click the ", {"scheme": null, "value": "/shelf/muscle_displace", "type": "link", "text": ["Muscle Displace"], "fullpath": "/shelf/muscle_displace"}, " tool on the ", {"type": "ui", "text": ["Muscles"]}, " shelf again, select the skin and press ", {"keys": ["Enter"], "type": "keys", "text": null}, ". This time you will be prompted to add or remove muscles from the displacement . Holding  ", {"keys": ["Shift"], "type": "keys", "text": null}, " and clicking the new muscle will add it, while holding ", {"keys": ["Ctrl"], "type": "keys", "text": null}, " and clicking will remove muscles."], "extent": [6807, 7364]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/add_remove.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/add_remove.jpg"}], "extent": [7364, 7404]}, {"type": "para", "indent": 0, "text": ["Make sure all of the muscles are selected and press ", {"keys": ["Enter"], "type": "keys", "text": null}, ". The shelf tool automatically inserts the new muscle into the object merge."], "extent": [7404, 7543]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Using muscle masks"], "extent": [7543, 7570], "body": [{"type": "para", "indent": 0, "text": ["Occasionally, areas of skin are affected by overlapping muscles and the displacement isn\u2019t correct. You can prevent this from happening by using muscle masks. Muscle masks are used to limit the displacement amount of a muscle (or group of muscles) to specific regions of the skin that are painted with a weight value."], "extent": [7570, 7890]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/overlap.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/overlap.jpg"}], "extent": [7890, 7927]}, {"type": "para", "indent": 0, "text": ["Click the ", {"scheme": null, "value": "/shelf/muscle_paintmusclemask", "type": "link", "text": ["Paint Muscle Mask"], "fullpath": "/shelf/muscle_paintmusclemask"}, " tool on the ", {"type": "ui", "text": ["Muscles"]}, " shelf, and select the skin geometry of your character. Use the drop down menu to select the muscle to use as the current region. Then, paint the area of skin that the muscle is allowed to affect."], "extent": [7927, 8208]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [8208, 8214], "body": [{"type": "para", "indent": 4, "text": ["This tool disables all muscle displacement until you paint the skin. It automatically sets all weight masks to 0 prior to painting."], "extent": [8214, 8351]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/add_remove.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/add_remove.jpg"}], "extent": [8351, 8395]}], "container": true}], "container": true, "role": "item_group"}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [8395, 8400], "body": [{"type": "para", "indent": 4, "text": ["To speed up working in the viewport, you can switch the display flag to the ", {"scheme": "Node", "value": "/nodes/sop/capturelayerpaint", "type": "link", "text": ["Capture Layer Paint SOP"], "fullpath": "/nodes/sop/capturelayerpaint"}, " so less calculations are being done as you paint. This won\u2019t show you the bulges as you paint, but if you roughly know where you muscles are, this can make painting quicker."], "extent": [8400, 8708]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/paint.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/paint.jpg"}], "extent": [8708, 8747]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["For a more visual approach, you can switch the view to ", {"type": "ui", "text": ["Ghost other objects"]}, " in the object visibility menu, and use ", {"keys": ["Ctrl", "MMB"], "type": "keys", "text": null}, " to select the muscle you want to paint. This will automatically update the dropdown menu as you change your selection, and allow you to paint confidently on the skin."], "extent": [8747, 9048]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/mmb_paint.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/mmb_paint.jpg"}], "extent": [9048, 9087]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [9087, 9092], "body": [{"type": "para", "indent": 4, "text": [{"keys": ["Space", "Y"], "type": "keys", "text": null}, " will allow you to toggle between views so that you can paint the skin without the muscle blocking and then go back to select other muscles."], "extent": [9092, 9251]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Often it makes more sense for the ", {"scheme": "Node", "value": "/nodes/sop/muscledeform", "type": "link", "text": ["Muscle Deform SOP"], "fullpath": "/nodes/sop/muscledeform"}, " to treat multiple muscles as a group, rather than individual muscles. You can give clusters of muscles logical names for paint masking. Every ", {"scheme": "Node", "value": "/nodes/obj/riggedmuscle", "type": "link", "text": ["Muscle object"], "fullpath": "/nodes/obj/riggedmuscle"}, " has a ", {"type": "ui", "text": ["Muscle ID"]}, " parameter which is meant for this purpose. By default it is set to the expression variable", {"type": "code", "text": ["$OS"]}, ", which just expands to the object node name. This means that every muscle is given a unique ID. By overriding this default, you can take a collection of muscles and give then a common shared ID. Click the ", {"scheme": null, "value": "/shelf/muscle_paintmusclemask", "type": "link", "text": ["Paint Muscle Mask"], "fullpath": "/shelf/muscle_paintmusclemask"}, " tool on the ", {"type": "ui", "text": ["Muscles"]}, " shelf, select the 3 upper leg muscles, and change the ", {"type": "ui", "text": ["Muscle ID"]}, " from ", {"type": "code", "text": ["$OS"]}, " to ", {"type": "code", "text": ["L_thigh"]}, "."], "extent": [9251, 9996]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/cluster.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/cluster.jpg"}], "extent": [9996, 10033]}, {"type": "para", "indent": 0, "text": ["All muscles being fed into the muscle deform set up get stamped with a point and primitive attribute named ", {"type": "ui", "text": ["Muscle ID"]}, ". The ", {"scheme": "Node", "value": "/nodes/sop/muscledeform", "type": "link", "text": ["Muscle Deform SOP"], "fullpath": "/nodes/sop/muscledeform"}, "  uses that value to match up muscles, centers, and weight masks to ensure that the bulging happens in a controlled way. The ", {"scheme": "Node", "value": "/nodes/sop/musclecapture", "type": "link", "text": ["Muscle Capture SOP"], "fullpath": "/nodes/sop/musclecapture"}, " is responsible for making the initial link between the muscle IDs and the weight masks."], "extent": [10033, 10458]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [10458, 10464], "body": [{"type": "para", "indent": 4, "text": ["The original Muscle ID names will still appear in the dropdown menu, even though they are obsolete, if the painting was done before the Muscle ID names were changed to group them together. You can clear the old mask by clicking ", {"type": "ui", "text": ["Reset All Changes"]}, " on the ", {"scheme": "Node", "value": "/nodes/sop/capturelayerpaint", "type": "link", "text": ["Capture Layer Paint"], "fullpath": "/nodes/sop/capturelayerpaint"}, " node. Clearing this stored information will remove the originally named muscles from the dropdown menu and you will see the grouped ones as one entry. Also, using ", {"keys": ["Ctrl", "MMB"], "type": "keys", "text": null}, " to select the regions to paint will select all muscles in the group with the shared ID."], "extent": [10464, 11041]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/paint_3.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/paint_3.jpg"}], "extent": [11041, 11082]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Paint your weight masks for the clustered regions to get the deformation working properly again. If you turn on the display flag of the ", {"scheme": "Node", "value": "/nodes/sop/muscledeform", "type": "link", "text": ["Muscle Deform SOP"], "fullpath": "/nodes/sop/muscledeform"}, ", you should see that the deformation is behaving much better and the overlapping issue should now be resolved."], "extent": [11082, 11372]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/bulge_2.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/bulge_2.jpg"}], "extent": [11372, 11409]}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Mirroring your muscle set up"], "extent": [11409, 11446], "body": [{"type": "para", "indent": 0, "text": ["In typically character setups, you will do most of your muscle work on one side your rig and then use mirroring to copy your work across the symmetry plane."], "extent": [11446, 11605]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [11605, 11610], "body": [{"type": "para", "indent": 4, "text": ["Naming your nodes following the standard naming convention will make mirroring much easier. For example, a simple prefixing convention like ", {"type": "code", "text": ["L_"]}, " to represent the left side."], "extent": [11610, 11788]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Click the ", {"scheme": null, "value": "/shelf/mirror", "type": "link", "text": ["Mirror tool"], "fullpath": "/shelf/mirror"}, " on the ", {"type": "ui", "text": ["Muscles"]}, " shelf. This tool is a generic mirroring tool, and does not work exclusively on muscles. Anything you have selected will be mirrored. It may be easier to select your muscles in the network editor instead of the viewport, so you don\u2019t accidentally select other things."], "extent": [11788, 12117]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/mirror.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/mirror.jpg"}], "extent": [12117, 12153]}, {"type": "para", "indent": 0, "text": ["You can also use the ", {"type": "ui", "text": ["New prefix"]}, " parameter in the operation controls toolbar to replace the old ", {"type": "code", "text": ["L_"]}, " prefix with the new ", {"type": "code", "text": ["R_"]}, " prefix to represent the right side, and press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to mirror your symmetrical copies. The mirror function examines the inputs to the nodes and if they are connected to to a parent that also follows the ", {"type": "code", "text": ["L_"]}, " and ", {"type": "code", "text": ["R_"]}, " naming convention, then they are automatically attached to parents on the mirrored side."], "extent": [12153, 12593]}, {"type": "para", "indent": 0, "text": ["If you play your animation, you should see that the mirrored muscles are attached to the correct bones and are animated with the same jiggle settings that the original muscles have."], "extent": [12593, 12776]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/mirror_2.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/mirror_2.jpg"}], "extent": [12776, 12814]}, {"type": "para", "indent": 0, "text": ["Even though the muscles are copied, the influence on the skin isn\u2019t. You need to include these new muscles in the muscle displace set up, like you did for the calf muscle. Simply click the ", {"scheme": null, "value": "/shelf/muscle_displace", "type": "link", "text": ["Muscle Displace"], "fullpath": "/shelf/muscle_displace"}, " tool on the ", {"type": "ui", "text": ["Muscles"]}, " shelf, select the skin, and press ", {"keys": ["Enter"], "type": "keys", "text": null}, ". You will see which muscles are already included, as they are highlighted. Press ", {"keys": ["Shift", "LMB"], "type": "keys", "text": null}, " the muscles you want to add, and press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to accept. "], "extent": [12814, 13271]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/add.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/add.jpg"}, " "], "extent": [13271, 13305]}, {"type": "para", "indent": 0, "text": ["The last step is to mirror the weight masks, so that the skin will be affected by the displacement of the copied muscles. "], "extent": [13305, 13433]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [13433, 13438], "body": [{"type": "para", "indent": 4, "text": ["To make a more accurate selection, type ", {"keys": ["Space", "3"], "type": "keys", "text": null}, " to change the view to a front view before making your selection."], "extent": [13438, 13566]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Click the ", {"scheme": null, "value": "/shelf/mirrormusclecapture", "type": "link", "text": ["Mirror Muscle Mask"], "fullpath": "/shelf/mirrormusclecapture"}, " tool on the ", {"type": "ui", "text": ["Muscles"]}, " shelf, select the points that will receive the mirrored mask weights, and press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to confirm your selection."], "extent": [13566, 13766]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/mirrormask.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/mirrormask.jpg"}, " "], "extent": [13766, 13807]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [13807, 13812], "body": [{"type": "para", "indent": 4, "text": ["Pressing ", {"keys": ["Space", "1"], "type": "keys", "text": null}, " will return you to the perspective view."], "extent": [13812, 13881]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Select the muscles that you want to have mirrored. You may have to ", {"keys": ["Shift", "LMB"], "type": "keys", "text": null}, " to add any muscles that may not have been automatically detected, and press ", {"keys": ["Enter"], "type": "keys", "text": null}, " to confirm your selection. Lastly, select the destination muscles (which should be automatically detected), and press ", {"keys": ["Enter"], "type": "keys", "text": null}, "."], "extent": [13881, 14184]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/muscles/mirrormask2.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/mirrormask2.jpg"}, " "], "extent": [14184, 14226]}, {"type": "para", "indent": 0, "text": ["Using muscle masks are not only useful for fixing errant deformations, but they also make your simulation more efficient by minimizing the amount of displacement calculations. Using muscle masks means that the deformer only spends time projecting skin points if it finds non-zero values for any muscle IDs it encounters."], "extent": [14226, 14548]}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [14548, 14559], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["You can use basic muscle shapes to produce detail in the skin by layering and overlapping muscle objects, using the same workflow as above."], "extent": [14559, 14703], "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/horse.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/horse.jpg"}, " "], "extent": [14703, 14743]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["You can also use muscle objects to represent internal shapes that may not be anatomical muscles at all, such as the abdomen of an animal. You can use a single shaped muscle object to product secondary jiggle and get the effect of internal body mass bouncing inside the skin."], "extent": [14743, 15021], "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/abdomen.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/abdomen.jpg"}], "extent": [15021, 15062]}], "container": true}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["In complex setups, where the number of muscles starts to weigh down performance, you can temporarily turn off all jiggle and only activate it on muscles you're working on. Even though the jiggle animation is lightweight, you should expect some lag as the number of muscles increase."], "extent": [15062, 15348]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Another way to speed up playback is to use viewport isolation to only display the muscles you are working on."], "extent": [15348, 15461], "body": [{"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/muscles/display.jpg", "type": "link", "text": "", "fullpath": "/images/muscles/display.jpg"}, " "], "extent": [15461, 15503]}], "container": true}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tools for creating muscles"], "extent": [15503, 15536], "body": [{"type": "para", "indent": 0, "text": ["There are new tools on the Muscles shelf for creating muscles."], "extent": [15536, 15601]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "SHELF/point_to_point_muscle", "type": "link", "text": "", "fullpath": "/character/object_level/SHELF/point_to_point_muscle"}, {"scheme": null, "value": "/shelf/muscle_riggedmuscle", "type": "link", "text": ["Muscle"], "fullpath": "/shelf/muscle_riggedmuscle"}], "extent": [15601, 15672], "body": [{"type": "para", "indent": 4, "text": ["Creates a rigged muscle with head and tail anchor connections."], "extent": [15672, 15744]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "OBJ/muscle", "type": "link", "text": "", "fullpath": "/character/object_level/OBJ/muscle"}, {"scheme": null, "value": "/shelf/muscle_strokemuscle", "type": "link", "text": ["Stroke Muscle"], "fullpath": "/shelf/muscle_strokemuscle"}], "extent": [15744, 15805], "body": [{"type": "para", "indent": 4, "text": ["Creates a rigged muscle by stroking a curve onto a skin object."], "extent": [15805, 15878]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "OBJ/musclerig", "type": "link", "text": "", "fullpath": "/character/object_level/OBJ/musclerig"}, {"scheme": null, "value": "/shelf/muscle_rig", "type": "link", "text": ["Muscle Rig"], "fullpath": "/shelf/muscle_rig"}], "extent": [15878, 15930], "body": [{"type": "para", "indent": 4, "text": ["Creates the internal components of a muscle (the rig), by stroking a curve onto a skin object."], "extent": [15930, 16034]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "OBJ/musclepin", "type": "link", "text": "", "fullpath": "/character/object_level/OBJ/musclepin"}, {"scheme": null, "value": "/shelf/muscle_musclepin", "type": "link", "text": ["Muscle Pin"], "fullpath": "/shelf/muscle_musclepin"}], "extent": [16034, 16092], "body": [{"type": "para", "indent": 4, "text": ["Creates a simple rigging component for pinning regions of a Franken Muscle to your character rig."], "extent": [16092, 16199]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "OBJ/frankenmuscle", "type": "link", "text": "", "fullpath": "/character/object_level/OBJ/frankenmuscle"}, {"scheme": null, "value": "/shelf/muscle_frankenmuscle", "type": "link", "text": ["Franken Muscle"], "fullpath": "/shelf/muscle_frankenmuscle"}], "extent": [16199, 16269], "body": [{"type": "para", "indent": 4, "text": ["Creates a hybrid muscle made up of any number of geometry objects and any number of muscle rigs and pins."], "extent": [16269, 16384]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "SHELF/muscle_attach", "type": "link", "text": "", "fullpath": "/character/object_level/SHELF/muscle_attach"}, {"scheme": null, "value": "/shelf/muscle_attachmuscles", "type": "link", "text": ["Attach To Bones"], "fullpath": "/shelf/muscle_attachmuscles"}], "extent": [16384, 16457], "body": [{"type": "para", "indent": 4, "text": ["Connects muscles, muscle rigs, and pin anchors to other objects in your scene."], "extent": [16457, 16545]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "SHELF/muscle_detach", "type": "link", "text": "", "fullpath": "/character/object_level/SHELF/muscle_detach"}, {"scheme": null, "value": "/shelf/muscle_detachmuscles", "type": "link", "text": ["Detach From Bones"], "fullpath": "/shelf/muscle_detachmuscles"}], "extent": [16545, 16620], "body": [{"type": "para", "indent": 4, "text": ["Disconnects muscle, muscle rig, and pin anchors from other objects in your scene."], "extent": [16620, 16707]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "MISC/rename", "type": "link", "text": "", "fullpath": "/character/object_level/MISC/rename"}, {"scheme": null, "value": "/shelf/muscle_setmuscleid", "type": "link", "text": ["Set Muscle ID"], "fullpath": "/shelf/muscle_setmuscleid"}], "extent": [16707, 16768], "body": [{"type": "para", "indent": 4, "text": ["Sets the Muscle ID for selected muscles."], "extent": [16768, 16814]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "SOP/inflate", "type": "link", "text": "", "fullpath": "/character/object_level/SOP/inflate"}, {"scheme": null, "value": "/shelf/muscle_displace", "type": "link", "text": ["Muscle Displace"], "fullpath": "/shelf/muscle_displace"}], "extent": [16814, 16874], "body": [{"type": "para", "indent": 4, "text": ["Applies a deformer to selected skin geometry so that muscles will displace the skin where ever they make contact."], "extent": [16874, 16997]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "SHELF/paint_muscle_mask", "type": "link", "text": "", "fullpath": "/character/object_level/SHELF/paint_muscle_mask"}, {"scheme": null, "value": "/shelf/muscle_paintmusclemask", "type": "link", "text": ["Paint Muscle Mask"], "fullpath": "/shelf/muscle_paintmusclemask"}], "extent": [16997, 17078], "body": [{"type": "para", "indent": 4, "text": ["Paints a mask attribute on the skin geometry per muscle_id to limit the effects of a Muscle Deform to specific regions."], "extent": [17078, 17207]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "OBJ_STATE/mirrorcapture", "type": "link", "text": "", "fullpath": "/character/object_level/OBJ_STATE/mirrorcapture"}, {"scheme": null, "value": "/shelf/mirrormusclecapture", "type": "link", "text": ["Mirror Muscle Mask"], "fullpath": "/shelf/mirrormusclecapture"}], "extent": [17207, 17286], "body": [{"type": "para", "indent": 4, "text": ["Applies muscle mask weights from one side of a geometry object to another."], "extent": [17286, 17370]}], "container": true}, {"type": "dt", "indent": 0, "text": [{"scheme": "Icon", "value": "SOP/tissuesolver", "type": "link", "text": "", "fullpath": "/character/object_level/SOP/tissuesolver"}, {"scheme": null, "value": "/shelf/muscle_tissuesimulate", "type": "link", "text": ["Tissue System"], "fullpath": "/shelf/muscle_tissuesimulate"}], "extent": [17370, 17439], "body": [{"type": "para", "indent": 4, "text": ["Collects muscles, modeled anatomical bones, and skin objects and places them into a single dynamics simulation."], "extent": [17439, 17558]}], "container": true}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Masterclass"], "extent": [17558, 17576], "body": [{"type": "vimeo_ref_group", "body": [{"ext": null, "type": "vimeo_ref", "indent": 0, "text": [" Houdini 16 Masterclass: Muscles Overview"], "role": "item", "extent": [17576, 17630], "body": [], "container": true, "attrs": {"id": "234758086"}}], "container": true, "role": "item_group"}]}], "title": ["Muscles"]}