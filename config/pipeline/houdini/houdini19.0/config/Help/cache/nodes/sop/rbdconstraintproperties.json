{"type": "root", "attrs": {"type": "node", "context": "sop", "icon": "SOP/rbdconstraintproperties", "internal": "rbdconstraintproperties::2.0", "version": "2.0", "since": "17.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["RBD Constraint Properties"], "extent": [129, 159]}, {"type": "summary", "indent": 0, "text": ["Creates attributes describing rigid body constraints."], "extent": [159, 221]}, {"type": "para", "indent": 0, "text": ["This SOP creates attributes on the input constraint geometry to describe the Bullet constraint types that they ", {"scheme": "Node", "value": "/nodes/dop/constraintnetwork", "type": "link", "text": ["represent"], "fullpath": "/nodes/dop/constraintnetwork"}, "."], "extent": [221, 373]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [373, 385], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Constraint Group"], "extent": [385, 404], "body": [{"type": "para", "indent": 4, "text": ["The primitives in the constraint geometry to edit constraint attributes for."], "extent": [429, 511]}], "container": true, "attrs": {"id": "constraintgroup"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Color"], "extent": [511, 518], "body": [{"type": "para", "indent": 4, "text": ["Indicates the radius of the sphere that appears at the constraint anchor positions in the viewport as guide geometry. Whether or not to display the anchor point depends on the constraint type."], "extent": [518, 716]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Guide Scale"], "extent": [716, 729], "body": [{"type": "para", "indent": 4, "text": ["Guide geometry\u2019s anchor widget scale for hard and soft constraints."], "extent": [729, 802]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Action"], "extent": [802, 810], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Edit"], "extent": [826, 836], "body": [{"type": "para", "indent": 8, "text": ["Allows you to modify a subset of the constraints' attributes, when editing existing constraint primitives."], "extent": [836, 952]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set"], "extent": [952, 961], "body": [{"type": "para", "indent": 8, "text": ["Ensures the relevant attributes are authored for any of the supported constraint types, when creating constraint properties for the first time."], "extent": [961, 1114]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "action"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Constraint Properties "], "extent": [1114, 1144]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Constraint Type"], "extent": [1144, 1162], "body": [{"type": "para", "indent": 4, "text": ["Specifies the type of constraint (such as glue or soft) to use for the primitives in the ", {"type": "ui", "text": ["Constraint Group"]}, "."], "extent": [1186, 1302]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [1302, 1312], "body": [{"type": "para", "indent": 8, "text": ["This parameter does not set attributes directly, but determines which parameters are relevant to streamline the UI."], "extent": [1312, 1437]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "constrainttype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Constraint Name"], "extent": [1437, 1454], "body": [{"type": "para", "indent": 4, "text": ["Specifies the ", {"type": "ui", "text": ["Data Name"]}, " of the constraint data (for example, the ", {"scheme": "Node", "value": "/nodes/dop/glueconrel", "type": "link", "text": ["Glue Constraint Relationship"], "fullpath": "/nodes/dop/glueconrel"}, ") to use in the DOP network.    "], "extent": [1478, 1635]}], "container": true, "attrs": {"id": "constraintname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Degrees of Freedom"], "extent": [1635, 1655], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether the constraint affects position, orientation, or both.\n    This does not apply to glue constraints, which work by simulating glued chunks together as a single object with a compound collision shape."], "extent": [1678, 1900]}], "container": true, "attrs": {"id": "constraintdof"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Switch Constraint Type When Broken"], "extent": [1900, 1936], "body": [{"type": "para", "indent": 4, "text": ["Specifies a different constraint type to switch to if the glue constraint is broken by the ", {"scheme": "Node", "value": "/nodes/dop/bulletrbdsolver", "type": "link", "text": ["Bullet Solver"], "fullpath": "/nodes/dop/bulletrbdsolver"}, "."], "extent": [1963, 2101]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [2101, 2111], "body": [{"type": "para", "indent": 8, "text": ["This parameter does not set attributes directly but determines which parameters are relevant to streamline the UI."], "extent": [2111, 2235]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "usenextconstraint"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Next Constraint Type"], "extent": [2235, 2257], "body": [{"type": "para", "indent": 4, "text": ["Specifies the next type of constraint (such as glue or soft) to use for the primitives in the ", {"type": "ui", "text": ["Constraint Group"]}, " once the initial constraints are broken."], "extent": [2285, 2450]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [2450, 2460], "body": [{"type": "para", "indent": 8, "text": ["This parameter does not set attributes directly but determines which parameters are relevant to streamline the UI."], "extent": [2460, 2584]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "nextconstrainttype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Next Constraint Name"], "extent": [2584, 2606], "body": [{"type": "para", "indent": 4, "text": ["Specifies the ", {"type": "ui", "text": ["Data Name"]}, " of the constraint data (for example, the ", {"scheme": "Node", "value": "/nodes/dop/bulletsoftconrel", "type": "link", "text": ["Bullet Soft Constraint Relationship"], "fullpath": "/nodes/dop/bulletsoftconrel"}, ") to use in the DOP network once the initial constraints are broken."], "extent": [2634, 2840]}], "container": true, "attrs": {"id": "nextconstraintname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Next Degrees of Freedom"], "extent": [2840, 2865], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether the next constraint affects position, orientation, or both.\n    This does not apply to glue constraints, which work by simulating glued chunks together as a single object with a compound collision shape."], "extent": [2892, 3119]}], "container": true, "attrs": {"id": "nextconstraintdof"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Constraint Iterations"], "extent": [885, 912], "body": [{"type": "para", "indent": 8, "text": ["If greater than zero, overrides the number of iterations performed by\n        the constraint solver for this constraint. If some groups of\n        constraints require more iterations than others, this parameter can be\n        used instead of globally increasing the number of iterations on the\n        ", {"scheme": "Node", "value": "/nodes/dop/bulletrbdsolver", "type": "link", "text": ["solver"], "fullpath": "/nodes/dop/bulletrbdsolver"}, "."], "extent": [912, 1258]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Disable Collisions"], "extent": [1258, 1282], "body": [{"type": "para", "indent": 8, "text": ["Disables collision detection between the constrained objects."], "extent": [1282, 1353]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Glue "], "extent": [3191, 3204]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Strength"], "extent": [719, 730], "body": [{"type": "para", "indent": 4, "text": ["Specifies the strength of the glue bond. If the value is -1, the connection will never break."], "extent": [748, 847]}], "container": true, "attrs": {"id": "strength"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Strength Variance"], "extent": [3247, 3266], "body": [{"type": "para", "indent": 4, "text": ["Randomly varies the strength of each glue bond."], "extent": [3297, 3350]}], "container": true, "attrs": {"id": "glue_strengthvariance"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Half-Life"], "extent": [847, 858], "body": [{"type": "para", "indent": 4, "text": ["The number of seconds for the glue impulse to decay by one half. Whenever a glued object gets hit, it accumulates a glue impulse force. This controls how fast that force decays."], "extent": [884, 1067]}], "container": true, "attrs": {"id": "impulse_halflife"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Propagation Rate"], "extent": [1067, 1085], "body": [{"type": "para", "indent": 4, "text": ["Specifies how impulses from collisions spread across the ", {"scheme": "Node", "value": "/nodes/dop/constraintnetwork", "type": "link", "text": ["Constraint Network"], "fullpath": "/nodes/dop/constraintnetwork"}, ".  The solver records impacts on the objects (basically the points of the constraint network). It then propagates those impulses around to the neighboring objects based on the constraint network, and then finally transfers the impulse onto the constraint (adding it to the impact attribute)."], "extent": [1118, 1523]}, {"type": "para", "indent": 4, "text": ["The propagation rate is clamped between ", {"type": "code", "text": ["0"]}, " and ", {"type": "code", "text": ["1"]}, ", and the propagation works like a weighted average where the object also propagates to itself with a rate of ", {"type": "code", "text": ["1"]}, ".  So if the constraint to a neighboring object also has a rate of ", {"type": "code", "text": ["1"]}, ", then the impulse is evenly split with the neighboring object after 1 iteration."], "extent": [1523, 1848]}, {"type": "para", "indent": 4, "text": ["For example, let\u2019s say object A has two neighboring pieces (", {"type": "code", "text": ["B"]}, " and ", {"type": "code", "text": ["C"]}, "), which have constraints with a propagation rate of ", {"type": "code", "text": ["1.0"]}, " for ", {"type": "code", "text": ["A-B"]}, " and ", {"type": "code", "text": ["0.5"]}, " for ", {"type": "code", "text": ["A-C"]}, ". If object ", {"type": "code", "text": ["A"]}, " gets an initial impulse of ", {"type": "code", "text": ["1000"]}, ", with one iteration the impulse on each object (the solver just accumulates this internally) should be A: 400, B: 400, C: 200. This is because the impulse is spread with a weighted average and weights 1 (", {"type": "code", "text": ["A"]}, " back to itself) 1 (", {"type": "code", "text": ["A-B"]}, ") and 0.5 (", {"type": "code", "text": ["A-C"]}, "). If you stop at that point and accumulate the object impulses onto the constraint\u2019s impact attribute, you get ", {"type": "code", "text": ["800"]}, " for ", {"type": "code", "text": ["A-B"]}, " and ", {"type": "code", "text": ["600"]}, " for ", {"type": "code", "text": ["A-C"]}, "."], "extent": [1848, 2463]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/sop/glueconrel.jpg", "type": "link", "text": "", "fullpath": "/images/sop/glueconrel.jpg"}], "extent": [2463, 2508]}], "container": true, "attrs": {"id": "propagate_rate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Propagation Iterations"], "extent": [2508, 2532], "body": [{"type": "para", "indent": 4, "text": ["Specifies the number of impact propagation iterations for the glue bond.\n    If this value is less than zero, the global number of iterations will be used (which is specified by the ", {"type": "code", "text": ["propagate_iteration"]}, " detail attribute on the ", {"scheme": "Node", "value": "/nodes/dop/constraintnetwork#attributes", "type": "link", "text": ["constraint network"], "fullpath": "/nodes/dop/constraintnetwork#attributes", "fragment": "#attributes"}, ")."], "extent": [2563, 2857]}, {"type": "para", "indent": 4, "text": ["When a glued object is hit, its impact value is spread along the constraint network to other glue bonds.\n    This allows distant glue bonds that are weak to be broken prior to nearer, strong bonds.\n    The impact propagations is the number of rounds of propagation to do.\n    Impulses will not travel more than this number of bonds each solve step."], "extent": [2857, 3211]}], "container": true, "attrs": {"id": "propagationiterations"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use VEXpressions"], "extent": [3503, 3521], "body": [{"type": "para", "indent": 4, "text": ["Use VEX expressions to modify constraint attributes."], "extent": [3521, 3580]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Hard "], "extent": [3580, 3593]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Constraint Force Mixing"], "extent": [46, 75], "body": [{"type": "para", "indent": 8, "text": ["Increasing this value will make the constraint spongier, and\n        may increase the stability of the simulation. The constraint\n        may be violated by an amount proportional to this parameter\n        times the force that is needed to enforce the constraint."], "extent": [75, 348]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Error Reduction Parameter"], "extent": [348, 379], "body": [{"type": "para", "indent": 8, "text": ["Specifies what proportion of the constraint error will be fixed\n        during the next simulation step. If ERP is set to 0,\n        constrained objects will drift apart as the simulation\n        proceeds. If ERP is set to 1, the solver will attempt to fix\n        all constraint error during the next simulation step (however,\n        this may result in instability in some situations). A value\n        between 0.1 and 0.8 is recommended for most simulations."], "extent": [379, 849]}], "container": true, "role": "item"}], "container": true}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Angular Motor"], "extent": [1389, 1413], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Number of Motors"], "extent": [1413, 1439], "body": [{"type": "para", "indent": 12, "text": ["Specifies the number of axes that the angular motor is enabled for."], "extent": [1439, 1520]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Axis 1"], "extent": [1520, 1536], "body": [{"type": "para", "indent": 12, "text": ["The direction of the first axis of rotation in the local space of the objects."], "extent": [1536, 1628]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Axis 2"], "extent": [1628, 1644], "body": [{"type": "para", "indent": 12, "text": ["The direction of the second axis of rotation. This should be perpendicular to ", {"type": "ui", "text": ["Axis 1"]}, ". The third axis is calculated as the cross product of ", {"type": "ui", "text": ["Axis 1"]}, " and ", {"type": "ui", "text": ["Axis 2"]}, "."], "extent": [1644, 1827]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Relative Angular Velocity"], "extent": [1827, 1862], "body": [{"type": "para", "indent": 12, "text": ["The target relative angular velocity around each of the enabled rotation axes."], "extent": [1862, 1954]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Max Impulse"], "extent": [1954, 1975], "body": [{"type": "para", "indent": 12, "text": ["The maximum impulse that the solver is allowed to apply to enforce the target angular velocity. This controls the strength of the motor."], "extent": [1975, 2124]}], "container": true, "role": "item"}], "container": true}]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Use VEXpressions"], "extent": [3732, 3750], "body": [{"type": "para", "indent": 4, "text": ["Use VEX expressions to modify constraint attributes."], "extent": [3750, 3808]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Soft "], "extent": [3808, 3821]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Stiffness"], "extent": [1589, 1600], "body": [{"type": "para", "indent": 4, "text": ["Specifies the strength of the force that attempts to match the transforms of the two anchors."], "extent": [1619, 1718]}, {"type": "para", "indent": 4, "text": ["This value is equivalent to the frequency of a spring."], "extent": [1718, 1778]}], "container": true, "attrs": {"id": "stiffness"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Damping Ratio"], "extent": [1778, 1793], "body": [{"type": "para", "indent": 4, "text": ["Specifies how much damping is applied to the motion.\n    A value of 0 specifies no damping, and a value of 1 provides just enough damping to prevent oscillation.\n    Values between 0 and 1 allow oscillation (with some damping), and values greater than 1 provide increasingly damped motion that has no oscillation."], "extent": [1815, 2134]}, {"type": "para", "indent": 4, "text": ["This value is equivalent to the damping ratio of a spring."], "extent": [2134, 2198]}], "container": true, "attrs": {"id": "dampingratio"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Override Angular Stiffness and Damping Ratio"], "extent": [3923, 3969], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether the linear and angular components of the constraint use the same ", {"type": "ui", "text": ["Stiffness"]}, " and ", {"type": "ui", "text": ["Damping Ratio"]}, ".\n    This option should be enabled when using angular plasticity, since the rest position and orientation can change separately and produce corresponding changes to the linear or angular stiffness, respectively."], "extent": [3969, 4305]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Angular Stiffness"], "extent": [2580, 2599], "body": [{"type": "para", "indent": 4, "text": ["A separate ", {"type": "ui", "text": ["Stiffness"]}, " value for the angular component of the constraint."], "extent": [2625, 2706]}], "container": true, "attrs": {"id": "angularstiffness"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Angular Damping Ratio"], "extent": [2706, 2729], "body": [{"type": "para", "indent": 4, "text": ["A separate ", {"type": "ui", "text": ["Damping Ratio"]}, " value for the angular component of the constraint."], "extent": [2758, 2843]}], "container": true, "attrs": {"id": "angulardampingratio"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable Plasticity"], "extent": [4420, 4439], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether linear plasticity is enabled for the constraint."], "extent": [4439, 4511]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rate"], "extent": [4511, 4517], "body": [{"type": "para", "indent": 4, "text": ["The rate at which the constraint\u2019s rest length is adjusted to match its current state.\n    A value of zero will disable plasticity for the constraint."], "extent": [4517, 4673]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Threshold"], "extent": [4673, 4684], "body": [{"type": "para", "indent": 4, "text": ["The distance threshold at which plasticity will be applied to the constraint."], "extent": [4684, 4767]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ratio of Current Rest Length"], "extent": [4767, 4797], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether the threshold should be a percentage of the constraint\u2019s rest length, or an absolute distance."], "extent": [4797, 4915]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Hardening"], "extent": [4915, 4926], "body": [{"type": "para", "indent": 4, "text": ["Controls how the ", {"type": "ui", "text": ["Stiffness"]}, " is modified as the rest length is adjusted based on the ", {"type": "ui", "text": ["Rate"]}, ".\n    A value greater than 1 will increase the stiffness, and a value less than 1 will decrease the stiffness."], "extent": [4926, 5137]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable Angular Plasticity"], "extent": [5137, 5164], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether angular plasticity is enabled for the constraint."], "extent": [5164, 5237]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Angular Rate"], "extent": [5237, 5251], "body": [{"type": "para", "indent": 4, "text": ["A separate ", {"type": "ui", "text": ["Rate"]}, " control for angular plasticity."], "extent": [5251, 5308]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Angular Threshold"], "extent": [5308, 5327], "body": [{"type": "para", "indent": 4, "text": ["The angle threshold (in degrees) at which angular plasticity will be applied to the constraint."], "extent": [5327, 5428]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Angular Hardening"], "extent": [5428, 5447], "body": [{"type": "para", "indent": 4, "text": ["A separate ", {"type": "ui", "text": ["Hardening"]}, " control for angular plasticity."], "extent": [5447, 5509]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use VEXpressions"], "extent": [5509, 5527], "body": [{"type": "para", "indent": 4, "text": ["Use VEX expressions to modify constraint attributes."], "extent": [5527, 5585]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5585, 5594], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/booleanfracture", "type": "link", "text": "", "fullpath": "/nodes/sop/booleanfracture"}], "extent": [5594, 5627]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/rbdcluster", "type": "link", "text": "", "fullpath": "/nodes/sop/rbdcluster"}], "extent": [5627, 5655]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/rbdinteriordetail", "type": "link", "text": "", "fullpath": "/nodes/sop/rbdinteriordetail"}], "extent": [5655, 5690]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": "", "fullpath": "/nodes/sop/voronoifracture"}], "extent": [5690, 5723]}], "container": true}], "text": "Related"}], "title": ["RBD Constraint Properties"], "summary": ["Creates attributes describing rigid body constraints."], "included": ["/nodes/dop/bulletsoftconrel", "/nodes/dop/glueconrel", "/nodes/dop/standard_bulletconstraint_parm", "/nodes/dop/standard_data_idparms", "/nodes/dop/standard_data_inputs", "/nodes/dop/standard_data_locals", "/nodes/dop/standard_data_outputs", "/nodes/dop/standard_data_parms", "/nodes/dop/standard_dataactive_parms", "/nodes/dop/standard_datagroup_parms", "/nodes/dop/standard_dataname_parms", "/nodes/dop/standard_dataop_parms", "/nodes/dop/standard_datashare_parms", "/nodes/dop/standard_locals"]}