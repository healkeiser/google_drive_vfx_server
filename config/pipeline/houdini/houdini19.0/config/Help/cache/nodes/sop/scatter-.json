{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "scatter", "icon": "SOP/scatter", "tags": "copy, random, points", "bestbet": "scatter", "index": "no", "version": "", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Scatter"], "extent": [0, 12]}, {"type": "summary", "indent": 0, "text": ["Scatters new points randomly across a surface or through a volume."], "extent": [136, 210]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [210, 225], "body": [{"type": "para", "indent": 0, "text": ["This node distributes new points across the surface in a roughly uniform pattern and attempts to limit clumping and holes."], "extent": [225, 350]}, {"type": "para", "indent": 0, "text": ["For volume primitives, this node scatters points through the volume with a density proportional to the field value (with negative values giving zero probability)."], "extent": [350, 514]}, {"type": "para", "indent": 0, "text": ["You can use the generated points for a variety of purposes.\nThey may be used to specify birthing locations for particles,\ntemplate points for ", {"scheme": "Node", "value": "/nodes/sop/copy", "type": "link", "text": ["copying"], "fullpath": "/nodes/sop/copy"}, ",\nor as queues for irradiance computations."], "extent": [514, 724]}, {"type": "para", "indent": 0, "text": ["For surfaces, you can base the distribution of points on the surface area of faces (faces with a larger surface area will get more points),\na user defined attribute, or a blend of area and attribute."], "extent": [724, 925]}, {"type": "para", "indent": 0, "text": ["This node scatters the points in UV (surface) space. That means surfaces with pinched sides (like NURBS spheres and cones) will have non-uniform distributions in 3D space."], "extent": [925, 1098]}, {"level": 3, "id": "includeme", "container": true, "type": "h", "indent": 0, "text": ["Using Scatter"], "extent": [304, 336], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Click the ", {"scheme": "Icon", "value": "VIEW/display_points", "type": "link", "text": "", "fullpath": "/shelf/VIEW/display_points"}, " Display points icon in the  display toolbar on the right side of the ", {"scheme": null, "value": "/ref/views/3dview", "type": "link", "text": ["scene view"], "fullpath": "/ref/views/3dview"}, "."], "extent": [336, 490]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Select the object you want the points to scatter randomly across."], "extent": [490, 563]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["Click the ", {"scheme": "Icon", "value": "SOP/scatter", "type": "link", "text": "", "fullpath": "/shelf/SOP/scatter"}, {"scheme": "Node", "value": "/nodes/sop/scatter", "type": "link", "text": ["Scatter"], "fullpath": "/nodes/sop/scatter"}, " tool on the ", {"type": "ui", "text": ["Model"]}, " tab."], "extent": [563, 656], "body": [{"type": "para", "indent": 8, "text": ["Scatter replaces the surface of an object with random points."], "extent": [656, 731]}], "container": true}], "container": true}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/shelf/scatter.jpg", "type": "link", "text": "", "fullpath": "/images/shelf/scatter.jpg"}], "extent": [731, 774]}, {"type": "para", "indent": 4, "text": ["You can change the number of points or density of points in the ", {"scheme": null, "value": "/ref/panes/parms", "type": "link", "text": ["parameter editor"], "fullpath": "/ref/panes/parms"}, "."], "extent": [774, 880]}]}]}, {"level": 2, "id": "stick", "container": true, "type": "h", "indent": 0, "text": ["Making scattered points stick on deforming geometry"], "extent": [1134, 1200], "body": [{"type": "para", "indent": 0, "text": ["Since the Scatter node recomputes at each frame, if the shape of the geometry changes over time, the point positions and point numbers will change randomly from frame to frame."], "extent": [1200, 1379]}, {"type": "para", "indent": 0, "text": ["To prevent this, the Scatter node lets you specify static ", {"type": "q", "text": ["rest"]}, " geometry to scatter on using the ", {"scheme": "Icon", "value": "SOP/measure", "type": "link", "text": "", "fullpath": "/nodes/sop/SOP/measure"}, {"scheme": "Node", "value": "/nodes/sop/measure", "type": "link", "text": ["Measure node"], "fullpath": "/nodes/sop/measure"}, " and the ", {"type": "code", "text": ["area"]}, " attribute. You can use this technique to plant guide hairs on deforming meshes for tasks such as sticking curves for facial hair on characters (eyebrows, mustaches, etc). "], "extent": [1379, 1715]}, {"type": "task_group", "body": [{"ext": null, "type": "task", "indent": 0, "text": ["Stick scattered points to the original shape"], "role": "item", "extent": [1715, 1767], "body": [{"type": "ord_group", "body": [{"blevel": 6, "type": "ord", "indent": 4, "text": ["Insert a ", {"scheme": "Node", "value": "/nodes/sop/measure", "type": "link", "text": ["Measure node"], "fullpath": "/nodes/sop/measure"}, " between the geometry\u2019s rest position and the node(s) deforming the geometry."], "extent": [1767, 1896], "body": [{"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/sop/scatter_area_network.jpg", "type": "link", "text": "", "fullpath": "/images/nodes/sop/scatter_area_network.jpg"}], "extent": [1896, 1960]}], "container": true}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["On the Measure node set ", {"type": "ui", "text": ["Type"]}, " to ", {"type": "q", "text": ["Area"]}, "."], "extent": [1960, 2015]}, {"blevel": 6, "type": "ord", "indent": 4, "text": ["On the Scatter node, set ", {"type": "ui", "text": ["Alternate Attribute"]}, " to ", {"type": "code", "text": ["area"]}, " and ", {"type": "ui", "text": ["Attribute Bias"]}, " to ", {"type": "code", "text": ["1"]}, "."], "extent": [2015, 2112]}], "container": true}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": ["Stick to the shape of the geometry at some frame"], "role": "item", "extent": [2112, 2168], "body": [{"type": "para", "indent": 4, "text": ["If the deforming geometry is cached to disk, you can branch off a ", {"scheme": "Node", "value": "/nodes/sop/timeshift", "type": "link", "text": ["Time Shift node"], "fullpath": "/nodes/sop/timeshift"}, " set to a static frame and follow with the Measure node, then use an ", {"scheme": "Node", "value": "/nodes/sop/attribcopy", "type": "link", "text": ["Attribute Copy node"], "fullpath": "/nodes/sop/attribcopy"}, " to copy that area attribute to the deforming geometry."], "extent": [2168, 2441]}], "container": true}, {"ext": null, "type": "task", "indent": 0, "text": ["Stick to the shape of the geometry stored in rest attributes"], "role": "item", "extent": [2441, 2509], "body": [{"type": "para", "indent": 4, "text": ["If you have rest attributes on the geometry, you can branch off a Point SOP, use $RESTX $RESTY and $RESTZ in place of $TX $TY and $TZ in the ", {"type": "ui", "text": ["Position"]}, " parameters to switch the geometry to its rest position, then Measure the rest geometry and use an ", {"scheme": "Node", "value": "/nodes/sop/attribcopy", "type": "link", "text": ["Attribute Copy node"], "fullpath": "/nodes/sop/attribcopy"}, " to copy the area attribute to the deforming geometry."], "extent": [2509, 2862]}], "container": true}], "container": true, "role": "item_group"}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2862, 2874], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [2874, 2882], "body": [{"type": "para", "indent": 4, "text": ["Subset of geometry to consider when generating points."], "extent": [2898, 2962]}], "container": true, "attrs": {"id": "group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Keep Original Geometry"], "extent": [2962, 2986], "body": [{"type": "para", "indent": 4, "text": ["Keep original geometry after scattering points."], "extent": [3001, 3054]}], "container": true, "attrs": {"id": "keep"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Number of Points"], "extent": [3054, 3080], "body": [{"type": "para", "indent": 4, "text": ["Instead of scattering a fixed number of points, calculate the\n    total area and use that as a scale on the points value."], "extent": [3080, 3207]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [3207, 3217], "body": [{"type": "para", "indent": 8, "text": ["This total area includes the effects of any alternate attribute."], "extent": [3217, 3291]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Points"], "extent": [3291, 3309], "body": [{"type": "para", "indent": 4, "text": ["Number of points to scatter over the input geometry."], "extent": [3324, 3386]}], "container": true, "attrs": {"id": "npts"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Points per Area"], "extent": [3386, 3403], "body": [{"type": "para", "indent": 4, "text": ["Number of points to scatter for every unit of area in the\n    primitives."], "extent": [3403, 3486]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Density for Volumes"], "extent": [3486, 3511], "body": [{"type": "para", "indent": 4, "text": ["Instead of using the surface area of the box that contains the\n    primitive volume as the area, use the total non-zero component\n    of the volume.  This becomes a measure of volume rather than\n    area, but matches expectations if one is measuring the amount\n    of smoke in a primitive volume."], "extent": [3511, 3813]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Random Seed"], "extent": [3813, 3826], "body": [{"type": "para", "indent": 4, "text": ["Different scattering patterns will be generated for different seed values.\n    Set this to ", {"type": "code", "text": ["$T"]}, " if you want every frame to have a different pattern."], "extent": [3826, 3984]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scatter based on primitive area"], "extent": [3984, 4017], "body": [{"type": "para", "indent": 4, "text": ["Use the surface area of primitives to influence the distribution\n    of points."], "extent": [4032, 4121]}], "container": true, "attrs": {"id": "area"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Alternate Attribute"], "extent": [4121, 4142], "body": [{"type": "para", "indent": 4, "text": ["An alterative attribute used to influence the distribution of\n    points. This attribute can be either a point, primitive or\n    vertex attribute. Lower attribute values will result in fewer\n    points being generated, while higher values will result in more\n    points being generated."], "extent": [4159, 4451]}], "container": true, "attrs": {"id": "attrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blending Algorithm"], "extent": [4451, 4471], "body": [{"type": "para", "indent": 4, "text": ["This parameter uses both the primitive area and alternate attributes."], "extent": [4471, 4546]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Linear Interpolation"], "extent": [4546, 4572], "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["P = lerp(P(area), P(attrib), weight)"]}, ". "], "extent": [4572, 4622]}, {"type": "para", "indent": 8, "text": ["A value of 0 is equivalent to weighting by area. A value of 1 equivalent to weighting by the attribute."], "extent": [4622, 4735]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Multiplication of Probabilities"], "extent": [4735, 4772], "body": [{"type": "para", "indent": 8, "text": [{"type": "code", "text": ["P = P(area) * P(attrib)"]}], "extent": [4772, 4807]}, {"type": "para", "indent": 8, "text": ["If there is a zero area polygon for example, it\u2019s attribute value will be ignored."], "extent": [4807, 4899]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attribute Bias"], "extent": [4899, 4915], "body": [{"type": "para", "indent": 4, "text": ["When an alternate attribute is specified, this determines how\n    much of an effect the attribute has. A bias of 0 is equivalent\n    to specifying no attribute at all (no effect), while a bias of\n    one uses the attribute values exclusively."], "extent": [4930, 5182]}], "container": true, "attrs": {"id": "bias"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute nearest points"], "extent": [5182, 5206], "body": [{"type": "para", "indent": 4, "text": ["After the points have been scattered on the surface, it is\n    sometimes useful to determine how far apart the points are\n    scattered (when using the points for irradiance computations for\n    example). The mean distance to the nearest ", {"type": "var", "text": ["N"]}, " points can be\n    pre-computed and stored in a point attribute if this parameter\n    is turned on."], "extent": [5223, 5575]}], "container": true, "attrs": {"id": "donear"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Points to consider"], "extent": [5575, 5595], "body": [{"type": "para", "indent": 4, "text": ["The distance to the ", {"type": "var", "text": ["N"]}, " the point will be stored in the\n    attribute. For example, if a value of 4 is specified, the\n    attribute will store the distance to the fourth nearest point."], "extent": [5615, 5811]}], "container": true, "attrs": {"id": "nearcount"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Store in attribute"], "extent": [5811, 5831], "body": [{"type": "para", "indent": 4, "text": ["Name of the attribute to store the coverage distance."], "extent": [5850, 5909]}], "container": true, "attrs": {"id": "nearname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Divide Non-Convex Polygons"], "extent": [5909, 5937], "body": [{"type": "para", "indent": 4, "text": ["Divide non-convex polygons so that points are correctly distributed for both convex and non-convex polygons. "], "extent": [5954, 6069]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [6069, 6079], "body": [{"type": "para", "indent": 8, "text": ["If ", {"type": "ui", "text": ["Keep Original Geometry"]}, " is selected, the geometry kept will be convexed."], "extent": [6079, 6167]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "convex"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [6167, 6176], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/measure", "type": "link", "text": "", "fullpath": "/nodes/sop/measure"}], "extent": [6176, 6198]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/pop/source", "type": "link", "text": "", "fullpath": "/nodes/pop/source"}], "extent": [6198, 6219]}], "container": true}], "text": "Related"}], "title": ["Scatter"], "summary": ["Scatters new points randomly across a surface or through a volume."], "included": ["/shelf/scatter"]}