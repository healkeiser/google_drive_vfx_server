{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "popsteerobstacle", "icon": "CROWDS/popsteerobstacle", "tags": "crowds behavior", "since": "14.0", "version": "", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["POP Steer Obstacle"], "extent": [0, 23]}, {"type": "summary", "indent": 0, "text": ["Applies force to agents/particles to avoid potential collisions with static objects."], "extent": [146, 238]}, {"type": "para", "indent": 0, "text": ["This is a ", {"scheme": null, "value": "/crowds/states", "type": "link", "text": ["crowd behavior"], "fullpath": "/crowds/states"}, " node, but you can also use it on regular particles (see the ", {"type": "ui", "text": ["Output attribute"]}, " parameter)."], "extent": [238, 374]}, {"type": "para", "indent": 0, "text": ["This node sends out a certain number of rays in a cone along its forward direction, and tries to avoid collisions based on the closest ray hit. It looks for the optimal path based on the least obstructed ray, and uses environment normal directions as the braking direction."], "extent": [374, 649]}, {"type": "para", "indent": 0, "text": ["See ", {"scheme": null, "value": "/crowds/obstacles", "type": "link", "text": ["crowd obstacles"], "fullpath": "/crowds/obstacles"}, " for how to set up obstacles using shelf tools."], "extent": [649, 737]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [737, 749], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Activation"], "extent": [16, 28], "body": [{"type": "para", "indent": 4, "text": ["When this is off, the node will have no effect. You can animate this to turn the behavior on or off at different times."], "extent": [51, 180]}], "container": true, "attrs": {"id": "activate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [180, 187], "body": [{"type": "para", "indent": 4, "text": ["Only modify a certain group or groups out of all agents/particles. You can name groups of agents using the ", {"type": "ui", "text": ["Group name"]}, " parameter on the ", {"scheme": "Node", "value": "/nodes/sop/crowdsource", "type": "link", "text": ["Crowd Source geometry node"], "fullpath": "/nodes/sop/crowdsource"}, "."], "extent": [211, 410]}], "container": true, "attrs": {"id": "partgroup"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output Attribute"], "extent": [410, 428], "body": [{"type": "para", "indent": 4, "text": ["If you are working with agents, set this to ", {"type": "q", "text": ["Crowds steerforce"]}, ". If you are working with particles, set this to ", {"type": "q", "text": ["POP force"]}, "."], "extent": [449, 583]}, {"type": "para", "indent": 4, "text": ["This controls whether the node modifies the agent\u2019s ", {"type": "code", "text": ["steerforce"]}, " attribute (used by the ", {"scheme": "Node", "value": "/nodes/dop/crowdsolver", "type": "link", "text": ["crowd solver"], "fullpath": "/nodes/dop/crowdsolver"}, ") or the particle\u2019s ", {"type": "code", "text": ["force"]}, " attribute (used by the ", {"scheme": "Node", "value": "/nodes/dop/popsolver", "type": "link", "text": ["POP solver"], "fullpath": "/nodes/dop/popsolver"}, ")."], "extent": [583, 800]}], "container": true, "attrs": {"id": "output"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Weight"], "extent": [800, 808], "body": [{"type": "para", "indent": 4, "text": ["Available when ", {"type": "ui", "text": ["Output attribute"]}, " is ", {"type": "q", "text": ["Crowd steerforce"]}, ". This number is used by the ", {"scheme": "Node", "value": "/nodes/dop/crowdsolver", "type": "link", "text": ["crowd solver"], "fullpath": "/nodes/dop/crowdsolver"}, " to normalize and scale multiple forces that apply to an agent."], "extent": [829, 1018]}], "container": true, "attrs": {"id": "weight"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source"], "extent": [899, 907], "body": [{"type": "para", "indent": 4, "text": ["Whether to get the obstacle geometry from a geometry (SOP) node, or a piece of simulation (DOP) data."], "extent": [907, 1014]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["SOP Path"], "extent": [1014, 1024], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Source"]}, " is ", {"type": "q", "text": ["SOP"]}, ", the path to an object (for example ", {"type": "code", "text": ["/obj/house"]}, ") or geometry node (for example, ", {"type": "code", "text": ["/obj/house/walls"]}, ") containing the obstacle geometry."], "extent": [1024, 1189]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Obstacle DOP Data"], "extent": [1189, 1208], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Source"]}, " is ", {"type": "q", "text": ["DOP Data"]}, ", the name of a piece of geometry data, such as created by a ", {"scheme": "Node", "value": "/nodes/dop/staticobject", "type": "link", "text": ["Static Object DOP"], "fullpath": "/nodes/dop/staticobject"}, "."], "extent": [1208, 1346]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Avoidance Force"], "extent": [1346, 1363], "body": [{"type": "para", "indent": 8, "text": ["Amount of force applied to alter agent path to avoid the obstacle."], "extent": [1363, 1443]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Braking Force"], "extent": [1443, 1458], "body": [{"type": "para", "indent": 8, "text": ["How much force to apply in the opposite direction of the agent/particle\u2019s current velocity to make it slow down to avoid a future collision."], "extent": [1458, 1608]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Front Search Distance"], "extent": [1608, 1631], "body": [{"type": "para", "indent": 8, "text": ["The maximum distance (in meters) in front of the agent to look for collisions with the obstacle geometry."], "extent": [1631, 1750]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Side Search Distance"], "extent": [1750, 1772], "body": [{"type": "para", "indent": 8, "text": ["The maximum distance (in meters) to the side of the agent to look for collisions with the obstacle geometry."], "extent": [1772, 1894]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Samples"], "extent": [1894, 1903], "body": [{"type": "para", "indent": 8, "text": ["Number of rays to send out looking for possible collisions. The more rays you send, the earlier and more accurate the avoidance will be, but the slower the node will operate."], "extent": [1903, 2091]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Samples Seed"], "extent": [2091, 2105], "body": [{"type": "para", "indent": 8, "text": ["Seed for the random number generator used to generate sample rays."], "extent": [2105, 2185]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sample Weight Bias"], "extent": [2185, 2205], "body": [{"type": "para", "indent": 8, "text": ["Bias for longer ray samples to have more influence."], "extent": [2205, 2266]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["FOV Horizontal"], "extent": [2266, 2282], "body": [{"type": "para", "indent": 8, "text": ["Field of view (in degrees) in the horizontal direction."], "extent": [2282, 2351]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["FOV Vertical"], "extent": [2351, 2365], "body": [{"type": "para", "indent": 8, "text": ["Field of view (in degrees) in the vertical direction."], "extent": [2365, 2428]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Force Separation"], "extent": [2428, 2446], "body": [{"type": "para", "indent": 8, "text": ["Force the agent/particle to stay clear of any possible penetrations with the collisions geometry."], "extent": [2446, 2557]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [2557, 2566], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": null, "value": "/crowds/", "type": "link", "text": "", "fullpath": "/crowds/index"}], "extent": [2566, 2580]}], "container": true}], "text": "Related"}], "title": ["POP Steer Obstacle"], "summary": ["Applies force to agents/particles to avoid potential collisions with static objects."], "included": ["/nodes/dop/crowd_steer_parms"]}