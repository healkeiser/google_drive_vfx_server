{"type": "root", "attrs": {"type": "node", "context": "sop", "namespace": "kinefx", "internal": "motionclipcycle", "icon": "SOP/kinefx-motionclipcycle", "tags": "animation", "since": "18.5", "version": ""}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["MotionClip Cycle"], "extent": [137, 158]}, {"type": "summary", "indent": 0, "text": ["Smoothly loops a section of a MotionClip"], "extent": [158, 207]}, {"type": "para", "indent": 0, "text": ["This SOP takes as input a MotionClip (eg. from ", {"scheme": null, "value": "kinefx--motionclip", "type": "link", "text": ["MotionClip"], "fullpath": "/nodes/sop/kinefx--motionclip"}, ")\nand a frame range. It outputs a clip containing the specified number of repetitions,\nblending between each of them."], "extent": [207, 404]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [404, 416], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Cycle"], "extent": [416, 429], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Frame Range"], "extent": [429, 447], "body": [{"type": "para", "indent": 8, "text": ["Specifies the start/end/increment of the range of frames to be cycled."], "extent": [467, 547]}], "container": true, "attrs": {"id": "range"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Cycles Before"], "extent": [547, 566], "body": [{"type": "para", "indent": 8, "text": ["The number of cycles to output before the specified range."], "extent": [601, 669]}, {"type": "para", "indent": 8, "text": ["This does not need to be an integer, it can output a fraction of a cycle."], "extent": [669, 752]}], "container": true, "attrs": {"id": "cyclesbefore"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Cycles After"], "extent": [752, 770], "body": [{"type": "para", "indent": 8, "text": ["The number of cycles to output after the specified range."], "extent": [804, 871]}], "container": true, "attrs": {"id": "cyclesafter"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Mirror Odd Cycles"], "extent": [871, 894], "body": [{"type": "para", "indent": 8, "text": ["Every other cycle will be reversed."], "extent": [915, 960]}], "container": true, "attrs": {"id": "mirror"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blend Start to End"], "extent": [960, 984], "body": [{"type": "para", "indent": 8, "text": ["This enables blending from the end of the last cycle to the start of the first, allowing for seamless looping of the clip."], "extent": [1011, 1143]}], "container": true, "attrs": {"id": "loop"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Locomotion"], "extent": [1143, 1160], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Locomotion"], "extent": [1160, 1181], "body": [{"type": "para", "indent": 8, "text": ["The method used to determine the locomotion of the MotionClip and cycle it."], "extent": [1214, 1299]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["None"], "extent": [1299, 1313], "body": [{"type": "para", "indent": 12, "text": ["Locomotion will not be computed and the MotionClip will be cycled without translating or rotating it between cycles."], "extent": [1313, 1451]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Existing Locomotion"], "extent": [1451, 1480], "body": [{"type": "para", "indent": 12, "text": ["The locomotion will be obtained from the ", {"type": "code", "text": ["__locomotion__"]}, " point of the MotionClip. This point should be created by the ", {"scheme": null, "value": "kinefx--extractlocomotion", "type": "link", "text": ["Extract Locomotion"], "fullpath": "/nodes/sop/kinefx--extractlocomotion"}, " node."], "extent": [1480, 1665]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Compute Locomotion"], "extent": [1665, 1693], "body": [{"type": "para", "indent": 12, "text": ["The locomotion of the MotionClip will be computed by this node."], "extent": [1693, 1770]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "locomotion"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Locomotion Joint"], "extent": [1770, 1792], "body": [{"type": "para", "indent": 8, "text": ["The name of the joint in the input MotionClip which will be used to calculate the locomotion and to translate and rotate the clip between cycles."], "extent": [1822, 1977]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "strong", "text": ["Locomotion"]}, " is set to 'Compute Locomotion'."], "extent": [1977, 2069]}], "container": true, "attrs": {"id": "locomotionjoint"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blend Locomotion"], "extent": [2069, 2091], "body": [{"type": "para", "indent": 8, "text": ["The locomotion of the animation will undergo the same blending as the poses."], "extent": [2121, 2207]}], "container": true, "attrs": {"id": "blendlocomotion"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Apply Locomotion"], "extent": [2207, 2229], "body": [{"type": "para", "indent": 8, "text": ["The animation will be shifted by its locomotion."], "extent": [2267, 2325]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "strong", "text": ["Locomotion"]}, " is set to 'Existing Locomotion'."], "extent": [2325, 2418]}], "container": true, "attrs": {"id": "applylocomotion"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Match Translation"], "extent": [2418, 2441], "body": [{"type": "para", "indent": 8, "text": ["The method of choosing the joint which will begin at the translation where the previous iteration left off."], "extent": [2480, 2597]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "strong", "text": ["Locomotion"]}, " is set to 'Compute Locomotion'."], "extent": [2597, 2697]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["None"], "extent": [2697, 2711], "body": [{"type": "para", "indent": 12, "text": ["Do not match translations."], "extent": [2711, 2751]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Locomotion Joint"], "extent": [2751, 2777], "body": [{"type": "para", "indent": 12, "text": ["The joint provided in the ", {"type": "strong", "text": ["Locomotion Joint"]}, " parameter will be chosen."], "extent": [2777, 2869]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Custom Joint"], "extent": [2869, 2891], "body": [{"type": "para", "indent": 12, "text": ["The joint provided in the ", {"type": "strong", "text": ["Translation Joint"]}, " parameter will be chosen."], "extent": [2891, 2976]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "matchtranslation"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Translation Joint"], "extent": [2976, 2999], "body": [{"type": "para", "indent": 8, "text": ["This joint will begin at the translation where the previous iteration left off."], "extent": [3039, 3128]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "strong", "text": ["Locomotion"]}, " is set to 'Compute Locomotion'."], "extent": [3128, 3220]}], "container": true, "attrs": {"id": "relativejointtranslations"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Shift Axes"], "extent": [3220, 3236], "body": [{"type": "para", "indent": 8, "text": ["Choose on which axes to shift the cycles."], "extent": [3260, 3311]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "strong", "text": ["Locomotion"]}, " is set to 'Compute Locomotion'."], "extent": [3311, 3403]}], "container": true, "attrs": {"id": "shiftaxes"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Method"], "extent": [3403, 3415], "body": [{"type": "para", "indent": 8, "text": ["Specify around which axes to match the orientation. See below for details on the parameters for each of these options."], "extent": [3447, 3575]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "strong", "text": ["Locomotion"]}, " is set to 'Compute Locomotion'."], "extent": [3575, 3667]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["None"], "extent": [3667, 3681], "body": [{"type": "para", "indent": 12, "text": ["Do not match orientations."], "extent": [3681, 3721]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Around Up Axis"], "extent": [3721, 3745], "body": [{"type": "para", "indent": 12, "text": ["Match the orientation around the Up axis of the character. The Up axis will be deduced from the ", {"type": "strong", "text": ["Ground Plane"]}, " parameter."], "extent": [3745, 3892]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Ground Plane"], "extent": [3892, 3918], "body": [{"type": "para", "indent": 16, "text": ["This plane will be treated as the ground for the purpose of determining the Up axis."], "extent": [3951, 4053]}], "container": true, "attrs": {"id": "groundplane"}}, {"type": "dt", "indent": 12, "text": ["Up Axis"], "extent": [4053, 4074], "body": [{"type": "para", "indent": 16, "text": ["Specify which method to use when extracting the orientation around the Up axis. See below for details on the parameters for each of these options."], "extent": [4074, 4238]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 16, "text": ["Use Joint Orientation"], "extent": [4238, 4277], "body": [{"type": "para", "indent": 20, "text": ["Extract the orientation by pulling out the Euler angles from the joint specified in ", {"type": "strong", "text": ["Match Orientation"]}, " and using those to extract orientation data around the chosen axis."], "extent": [4277, 4470]}], "container": true}, {"type": "dt", "indent": 16, "text": ["Direction Between Joints"], "extent": [4470, 4512], "body": [{"type": "para", "indent": 20, "text": ["Extract the orientation by specifying an extra joint and drawing a direction vector between the joint specified in ", {"type": "strong", "text": ["Match Orientation"]}, " and the ", {"type": "strong", "text": ["Look At Joint"]}, ". This direction vector will be projected on the relevant plane and used to determine the orientation around the chosen axis."], "extent": [4512, 4817]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 20, "text": ["Look At Joint"], "extent": [4817, 4852], "body": [{"type": "para", "indent": 24, "text": ["Specify an extra joint that will act as the tip of the direction vector."], "extent": [4894, 4992]}], "container": true, "attrs": {"id": "updirvector"}}], "container": true}], "container": true}], "container": true}], "container": true}], "container": true}], "container": true}, {"type": "dt", "indent": 8, "text": ["Around All Axes"], "extent": [4992, 5017], "body": [{"type": "para", "indent": 12, "text": ["Match the orientation around all axes of the character."], "extent": [5017, 5086]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Custom"], "extent": [5086, 5102], "body": [{"type": "para", "indent": 12, "text": ["Customize which axis and which method you want to use for extracting the orientation of the character."], "extent": [5102, 5218]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Rotation Order"], "extent": [5218, 5246], "body": [{"type": "para", "indent": 16, "text": ["Specify which rotation order to use when extracting the orientation from the character animation."], "extent": [5246, 5361]}], "container": true}, {"type": "dt", "indent": 12, "text": ["X Axis"], "extent": [5361, 5381], "body": [{"type": "para", "indent": 16, "text": ["Specify which method to use when extracting the orientation around the X axis. See the ", {"type": "strong", "text": ["Up Axis"]}, " above for details on the parameters for each of these options."], "extent": [5421, 5598]}], "container": true, "attrs": {"id": "xorientationmethod"}}, {"type": "dt", "indent": 12, "text": ["Y Axis"], "extent": [5598, 5618], "body": [{"type": "para", "indent": 16, "text": ["Specify which method to use when extracting the orientation around the Y axis. See the ", {"type": "strong", "text": ["Up Axis"]}, " above for details on the parameters for each of these options."], "extent": [5658, 5835]}], "container": true, "attrs": {"id": "yorientationmethod"}}, {"type": "dt", "indent": 12, "text": ["Z Axis"], "extent": [5835, 5855], "body": [{"type": "para", "indent": 16, "text": ["Specify which method to use when extracting the orientation around the Z axis. See the ", {"type": "strong", "text": ["Up Axis"]}, " above for details on the parameters for each of these options."], "extent": [5895, 6072]}], "container": true, "attrs": {"id": "zorientationmethod"}}], "container": true}], "container": true}], "container": true}], "container": true, "attrs": {"id": "orientationmethod"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Blend"], "extent": [6072, 6084], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Method"], "extent": [6084, 6097], "body": [{"type": "para", "indent": 8, "text": ["The method of blending."], "extent": [6126, 6159]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Preserve Length"], "extent": [6159, 6184], "body": [{"type": "para", "indent": 12, "text": ["Keeps the total length of each cycle the same as the length of the input CHOP."], "extent": [6184, 6284]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Overlap Sequences"], "extent": [6284, 6311], "body": [{"type": "para", "indent": 12, "text": ["Overlaps each cycle with with the previous cycle."], "extent": [6311, 6382]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Insert Blend Region"], "extent": [6382, 6411], "body": [{"type": "para", "indent": 12, "text": ["Inserts a region between the cycles where blending is done."], "extent": [6411, 6484]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "method"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blend Frames"], "extent": [6484, 6502], "body": [{"type": "para", "indent": 8, "text": ["The number of frames over which the blending is applied."], "extent": [6523, 6589]}], "container": true, "attrs": {"id": "region"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Point Attributes"], "extent": [6589, 6611], "body": [{"type": "para", "indent": 8, "text": ["The point attributes of the joints which will be blended in addition to the 'P', 'transform', and 'localtransform' attributes."], "extent": [6633, 6769]}], "container": true, "attrs": {"id": "ptblend"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Blend Mode"], "extent": [6769, 6785], "body": [{"type": "para", "indent": 8, "text": ["The mode used to determine how each joint is blended."], "extent": [6809, 6872]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["All Joints"], "extent": [6872, 6892], "body": [{"type": "para", "indent": 12, "text": ["All joints are blended using the same parameters."], "extent": [6892, 6955]}], "container": true}, {"type": "dt", "indent": 8, "text": ["By Joint Group"], "extent": [6955, 6979], "body": [{"type": "para", "indent": 12, "text": ["A set of blending parameters can be defined for any number of joint groups."], "extent": [6979, 7068]}], "container": true}, {"type": "dt", "indent": 8, "text": ["By Attribute"], "extent": [7068, 7090], "body": [{"type": "para", "indent": 12, "text": ["The blend shape and bias will be determined from point attributes in the rest frame of one of the two clips."], "extent": [7090, 7212]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "blendmode"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 4, "text": [" All Joints "], "extent": [7212, 7235], "body": [{"type": "para", "indent": 8, "text": ["These parameters are visible when ", {"type": "ui", "text": ["Blend Mode"]}, " is set to ", {"type": "ui", "text": ["All Joints"]}, "."], "extent": [7235, 7320]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Blend Type"], "extent": [7320, 7340], "body": [{"type": "para", "indent": 12, "text": ["The type of the blending function."], "extent": [7364, 7412]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Linear"], "extent": [7412, 7432], "body": [{"type": "para", "indent": 16, "text": ["Linear shape."], "extent": [7432, 7462]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Ease in"], "extent": [7462, 7483], "body": [{"type": "para", "indent": 16, "text": ["Smooth on entry."], "extent": [7483, 7516]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Ease out"], "extent": [7516, 7538], "body": [{"type": "para", "indent": 16, "text": ["Smooth on exit."], "extent": [7538, 7570]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Ease in Ease out"], "extent": [7570, 7600], "body": [{"type": "para", "indent": 16, "text": ["Smooth on entry and exit."], "extent": [7600, 7643]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "shape"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Bias"], "extent": [7643, 7657], "body": [{"type": "para", "indent": 12, "text": ["The bias of the blend. 0 biases toward the base and +1 biases towards the layer."], "extent": [7680, 7778]}], "container": true, "attrs": {"id": "bias"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" By Joint Group "], "extent": [7778, 7805], "body": [{"type": "para", "indent": 8, "text": ["These parameters are visible when ", {"type": "ui", "text": ["Blend Mode"]}, " is set to ", {"type": "ui", "text": ["By Joint Group"]}, "."], "extent": [7805, 7899]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Number of Joint Groups"], "extent": [7899, 7931], "body": [{"type": "para", "indent": 12, "text": ["The number of joint groups to be blended between cycles. If a joint belongs to multiple groups, it will be blended based upon the parameters for the first group to which it belongs."], "extent": [7959, 8154]}], "container": true, "attrs": {"id": "numgroups"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Joint Group"], "extent": [8154, 8175], "body": [{"type": "para", "indent": 12, "text": ["A group of the topology skeleton\u2019s joints to be blended between cycles. "], "extent": [8205, 8291]}], "container": true, "attrs": {"id": "jointgroup0"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Blend Type"], "extent": [8291, 8311], "body": [{"type": "para", "indent": 12, "text": ["The type of the blending function for this joint group."], "extent": [8340, 8409]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Linear"], "extent": [8409, 8429], "body": [{"type": "para", "indent": 16, "text": ["Linear shape."], "extent": [8429, 8472]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Ease in"], "extent": [8472, 8493], "body": [{"type": "para", "indent": 16, "text": ["Smooth on entry."], "extent": [8493, 8539]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Ease out"], "extent": [8539, 8561], "body": [{"type": "para", "indent": 16, "text": ["Smooth on exit."], "extent": [8561, 8606]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Ease in Ease out"], "extent": [8606, 8636], "body": [{"type": "para", "indent": 16, "text": ["Smooth on entry and exit."], "extent": [8636, 8679]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "blendtype0"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Bias"], "extent": [8679, 8693], "body": [{"type": "para", "indent": 12, "text": ["The bias of the blend for this joint group. 0 biases towards the beginning and 1 biases towards the end."], "extent": [8717, 8835]}], "container": true, "attrs": {"id": "bias0"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 4, "text": [" By Attribute "], "extent": [8835, 8860], "body": [{"type": "para", "indent": 8, "text": ["These parameters are visible when ", {"type": "ui", "text": ["Blend Mode"]}, " is set to ", {"type": "ui", "text": ["By Attribute"]}, "."], "extent": [8860, 8955]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Blend Type Attribute"], "extent": [8955, 8985], "body": [{"type": "para", "indent": 12, "text": ["The name of the attribute which determines the blend type."], "extent": [9019, 9099]}], "container": true, "attrs": {"id": "blendtypeattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Bias Attribute"], "extent": [9099, 9123], "body": [{"type": "para", "indent": 12, "text": ["The name of the attribute which determines the bias."], "extent": [9152, 9219]}], "container": true, "attrs": {"id": "biasattrib"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}]}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [9219, 9227], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["First input"], "extent": [9227, 9241], "body": [{"type": "para", "indent": 4, "text": ["The MotionClip you wish to cycle."], "extent": [9241, 9280]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [9280, 9289], "body": [{"type": "para", "indent": 4, "text": ["The MotionClip on the first input cycled the specified number of times."], "extent": [9289, 9367]}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [9367, 9376], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/kinefx--motionclip", "type": "link", "text": "", "fullpath": "/nodes/sop/kinefx--motionclip"}], "extent": [9376, 9412]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/kinefx--extractlocomotion", "type": "link", "text": "", "fullpath": "/nodes/sop/kinefx--extractlocomotion"}], "extent": [9412, 9456]}], "container": true}], "text": "Related"}], "title": ["MotionClip Cycle"], "summary": ["Smoothly loops a section of a MotionClip"]}