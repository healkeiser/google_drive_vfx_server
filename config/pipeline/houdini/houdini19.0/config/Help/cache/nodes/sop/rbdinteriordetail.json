{"type": "root", "attrs": {"type": "node", "context": "sop", "icon": "SOP/rbdinteriordetail", "internal": "rbdinteriordetail", "since": "17.0", "tags": "break", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["RBD Interior Detail"], "extent": [112, 136]}, {"type": "summary", "indent": 0, "text": ["Creates additional detail on the interior surfaces of fractured geometry."], "extent": [136, 218]}, {"type": "para", "indent": 0, "text": ["This SOP creates additional detail on the interior surfaces of fractured geometry, which can be used to produce more interesting high resolution geometry.\nThe amount of noise added to the points can be scaled based on their distance from the original surface."], "extent": [218, 479]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [479, 484], "body": [{"type": "para", "indent": 4, "text": ["The ", {"scheme": "Node", "value": "/nodes/sop/xformpieces", "type": "link", "text": ["Transform Pieces SOP"], "fullpath": "/nodes/sop/xformpieces"}, " can be used to transform high resolution pieces according to the motion of simulated low resolution pieces."], "extent": [484, 645]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [645, 653], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Geometry"], "extent": [653, 667], "body": [{"type": "para", "indent": 8, "text": ["The geometry to add interior detail to."], "extent": [667, 716]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Constraint Geometry"], "extent": [716, 741], "body": [{"type": "para", "indent": 8, "text": ["Optional input to pass through constraint geometry (for example, from the ", {"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": ["Voronoi Fracture SOP"], "fullpath": "/nodes/sop/voronoifracture"}, ")."], "extent": [741, 874]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Proxy Geometry"], "extent": [874, 894], "body": [{"type": "para", "indent": 8, "text": ["Optional input to pass through proxy geometry."], "extent": [894, 950]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Optional SDF for Depth Sampling"], "extent": [950, 987], "body": [{"type": "para", "indent": 8, "text": ["An optional SDF Volume, usually created by ", {"scheme": "Node", "value": "/nodes/sop/isooffset", "type": "link", "text": ["IsoOffset"], "fullpath": "/nodes/sop/isooffset"}, ", to use for depth sampling when scaling the amount of noise added to the geometry.\n        If not connected, this node will generate a default one."], "extent": [987, 1218]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [1218, 1227], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Geometry"], "extent": [1227, 1238], "body": [{"type": "para", "indent": 4, "text": ["The high-resolution geometry."], "extent": [1238, 1273]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Constraint Geometry"], "extent": [1273, 1294], "body": [{"type": "para", "indent": 4, "text": ["The constraint geometry from the ", {"type": "ui", "text": ["Constraint Network"]}, " input."], "extent": [1294, 1362]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Proxy Geometry"], "extent": [1362, 1378], "body": [{"type": "para", "indent": 4, "text": ["The geometry from the ", {"type": "ui", "text": ["Proxy Geometry"]}, " input, or the original ", {"type": "ui", "text": ["Geometry"]}, " input if no proxy geometry already exists."], "extent": [1378, 1503]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1503, 1515], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Interior Group"], "extent": [1515, 1532], "body": [{"type": "para", "indent": 4, "text": ["Specifies the primitives to add detail to. Typically, this group should contain only the interior polygons created by the fracturing process so that the original surface is not affected."], "extent": [1532, 1724]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Geometry"], "extent": [1724, 1741], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Add Detail"], "extent": [1741, 1754], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether the interior surface should be divided according to the ", {"type": "ui", "text": ["Detail Size"]}, ".\n    Disabling this allows noise to be applied to interior surfaces that do not need any further subdivision."], "extent": [1754, 1959]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Detail Size"], "extent": [1959, 1972], "body": [{"type": "para", "indent": 4, "text": ["The size of the polygons added to the interior surfaces."], "extent": [1972, 2034]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Interior Normals"], "extent": [2034, 2060], "body": [{"type": "para", "indent": 4, "text": ["Computes vertex normals on the edges of the interior geometry, so that they will have a cusped appearance."], "extent": [2060, 2172]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Interior Cusp Angle"], "extent": [2172, 2193], "body": [{"type": "para", "indent": 4, "text": ["Computes vertex normals on the edges of the interior geometry with angles greater than this angle, so that they will have a cusped appearance."], "extent": [2193, 2341]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Triangulate Non-Planar Detail"], "extent": [2341, 2372], "body": [{"type": "para", "indent": 4, "text": ["Triangulates any non-planar polygons produced while adding detail."], "extent": [2372, 2444]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Noise Settings"], "extent": [2444, 2467], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Noise Amplitude"], "extent": [2467, 2485], "body": [{"type": "para", "indent": 4, "text": ["Scales the amount of displacement."], "extent": [2503, 2543]}], "container": true, "attrs": {"id": "noiseamp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Noise Type"], "extent": [2543, 2555], "body": [{"type": "para", "indent": 4, "text": ["The type of noise added to the interior points."], "extent": [2574, 2627]}], "container": true, "attrs": {"id": "noisetype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frequency"], "extent": [5544, 5555], "body": [{"type": "para", "indent": 4, "text": ["The frequency of the noise. Higher values give smaller scaled details in the noise."], "extent": [5574, 5667]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [5667, 5683], "body": [], "container": true, "attrs": {"src": "/videos/vop/unoise_frequency.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "freq"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Offset"], "extent": [5731, 5739], "body": [{"type": "para", "indent": 4, "text": ["The offset of the input into the noise function. If you visualize the noise as a 2D graph or 3D height field, this has the effect of ", {"type": "q", "text": ["panning"]}, " across the space of possible noise outputs. If you have the general noise effect you want but just want to get a different set of values for a different look, try changing the offset."], "extent": [5760, 6096]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [6096, 6112], "body": [], "container": true, "attrs": {"src": "/videos/vop/unoise_offset.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "offset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Fractal Type"], "extent": [6741, 6755], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["None"], "extent": [6777, 6787], "body": [{"type": "para", "indent": 8, "text": ["Does not add any additional noise on top of the basic noise."], "extent": [6787, 6865]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/unoise_fractal_none.jpg", "type": "link", "text": "", "fullpath": "/images/nodes/vop/unoise_fractal_none.jpg"}], "extent": [6865, 6928]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Standard"], "extent": [6928, 6942], "body": [{"type": "para", "indent": 8, "text": ["Adds pseudo-random noise on top of the basic output."], "extent": [6942, 7012]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/unoise_fractal_standard.jpg", "type": "link", "text": "", "fullpath": "/images/nodes/vop/unoise_fractal_standard.jpg"}], "extent": [7012, 7079]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Terrain"], "extent": [7079, 7092], "body": [{"type": "para", "indent": 8, "text": ["Adds noise like ", {"type": "q", "text": ["Standard"]}, " but dampens the noise in the valleys, which can be useful for generating mountainous terrain."], "extent": [7092, 7230]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/nodes/vop/unoise_fractal_terrain.jpg", "type": "link", "text": "", "fullpath": "/images/nodes/vop/unoise_fractal_terrain.jpg"}], "extent": [7230, 7296]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Hybrid"], "extent": [7296, 7308], "body": [{"type": "para", "indent": 8, "text": ["Like terrain, but with more sharpness in the valleys."], "extent": [7308, 7371]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "fractal"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max octaves"], "extent": [7448, 7461], "body": [{"type": "para", "indent": 4, "text": ["The number of iterations of distortion to add to the output of the basic noise. The more iterations you add, the more ", {"type": "q", "text": ["detailed"]}, " the output. Note that the output may have fewer octaves than this parameter (that is, increasing the parameter will eventually stop adding detail), because the node eventually stops when there\u2019s no more room to add more detail in the output."], "extent": [7479, 7855]}], "container": true, "attrs": {"id": "oct"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Lacunarity"], "extent": [7855, 7867], "body": [{"type": "para", "indent": 4, "text": ["The frequency increment between iterations of fractal noise added to the basic output. Note that you can use a negative value."], "extent": [7885, 8021]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [8021, 8037], "body": [], "container": true, "attrs": {"src": "/videos/vop/unoise_lacunarity.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "lac"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Roughness"], "extent": [8086, 8097], "body": [{"type": "para", "indent": 4, "text": ["The scale increment between iterations of fractal noise added to the basic output. The higher the value the larger the ", {"type": "q", "text": ["jaggies"]}, " added to the output. You can use a negative value for roughness."], "extent": [8117, 8320]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [8320, 8336], "body": [], "container": true, "attrs": {"src": "/videos/vop/unoise_roughness.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "rough"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable Lattice Warp"], "extent": [8524, 8545], "body": [{"type": "para", "indent": 4, "text": ["Adds ", {"type": "q", "text": ["stringiness"]}, " or ", {"type": "q", "text": ["wiriness"]}, " to standard noise."], "extent": [8562, 8619]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [8619, 8631], "body": [], "container": true, "attrs": {"src": "/videos/vop/unoise_lattice_warp.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "dolwarp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Accumulate Lattice Warp"], "extent": [8686, 8711], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Lattice Warp"]}, " is on, this accumulates the warp for each iteration (octave) of added fractal noise. When used in images, this can add interesting smudgy effects, and interesting landmarks when used for terrain."], "extent": [8727, 8950]}], "container": true, "attrs": {"id": "accuml"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Enable Gradient Warp"], "extent": [8950, 8972], "body": [{"type": "para", "indent": 4, "text": ["Enables a slider to widen the peaks or valleys of the noise output."], "extent": [8994, 9071]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [9071, 9087], "body": [], "container": true, "attrs": {"src": "/videos/vop/unoise_gradient_warp.mp4"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "dogwarp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Accumulate Gradient Warp"], "extent": [9139, 9165], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Enable Gradient Warp"]}, " is on, this accumulates the warp for each iteration (octave) of added fractal noise."], "extent": [9186, 9306]}], "container": true, "attrs": {"id": "accumg"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Displacement Scaling"], "extent": [3111, 3140], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Visualize Noise Scale"], "extent": [3140, 3164], "body": [{"type": "para", "indent": 4, "text": ["Adds color to the geometry to indicate the amount of noise applied at each point."], "extent": [3164, 3251]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Depth Method"], "extent": [3251, 3265], "body": [{"type": "para", "indent": 4, "text": ["Specifies how to compute the distance of each interior point from the surface."], "extent": [3287, 3371]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Minimum Distance to Exterior"], "extent": [3371, 3405], "body": [{"type": "para", "indent": 8, "text": ["Computes the minimum distance from each interior point to the exterior primitives, similar to the ", {"scheme": "Node", "value": "/nodes/sop/ray", "type": "link", "text": ["Ray SOP\u2019s"], "fullpath": "/nodes/sop/ray"}, " ", {"type": "ui", "text": ["Minimum Distance"]}, " method.\n        Compared to the ", {"type": "ui", "text": ["SDF Volume"]}, " method, this approach does not require selecting a suitable volume resolution and can be faster than building a high resolution volume."], "extent": [3405, 3749]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [3749, 3763], "body": [{"type": "para", "indent": 12, "text": ["This method does not produce accurate distances if the points in the ", {"type": "ui", "text": ["Interior Group"]}, " are not actually inside the surface of the original geometry, or if the original geometry is self-intersecting."], "extent": [3763, 3976]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["SDF Volume"], "extent": [3976, 3992], "body": [{"type": "para", "indent": 8, "text": ["Computes the depth by sampling an SDF volume.\n        The volume is built from the input geometry using the ", {"type": "ui", "text": ["Depth Volume Resolution"]}, ", unless a volume is provided via the optional fourth input."], "extent": [3992, 4197]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "depthmethod"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Depth Volume Resolution"], "extent": [4197, 4222], "body": [{"type": "para", "indent": 4, "text": ["Resolution of the default depth sampling SDF.\n    The amplitude of the noise added to the interior points is scaled by the depth of the point within the surface of the original geometry, calculated by sampling an SDF of the geometry.\n    If an SDF is not connected to the fourth input of the SOP, a default one will be created at this resolution."], "extent": [4222, 4574]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Clamp Displacement Amount to Depth"], "extent": [4574, 4610], "body": [{"type": "para", "indent": 4, "text": ["Limit the amount of displacement done at a point by its depth within the surface."], "extent": [4610, 4697]}, {"type": "para", "indent": 4, "text": ["When adding high amplitude noise to the interior points, it\u2019s possible that the interior surface could interpenetrate the exterior.\n    This option will clamp the amount of displacement at a particular point by the depth within the surface."], "extent": [4697, 4943]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Clamp Depth Percentage"], "extent": [4943, 4967], "body": [{"type": "para", "indent": 4, "text": ["The percentage of the depth within the surface to which the displacement should be clamped."], "extent": [4967, 5064]}, {"type": "para", "indent": 4, "text": ["Because an SDF is not a perfect representation of depth, this option allows you to clamp to a percentage of the depth.\n    Lowering this can guarantee no interpenetration, at the expense of more clamping of the interior noise."], "extent": [5064, 5296]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Use Depth/Noise Ramp"], "extent": [5296, 5318], "body": [{"type": "para", "indent": 4, "text": ["Use a ramp control for more precise control of the depth/noise mapping."], "extent": [5318, 5395]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Depth/Noise Bias"], "extent": [5395, 5413], "body": [{"type": "para", "indent": 4, "text": ["The value for the bias curve that maps depth within the surface to the amplitude of the noise applied."], "extent": [5413, 5521]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Depth/Noise Ramp"], "extent": [5521, 5539], "body": [{"type": "para", "indent": 4, "text": ["The ramp that maps from depth within the surface to the amplitude of the noise applied."], "extent": [5539, 5632]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Output Attributes"], "extent": [5632, 5658], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Point Depth"], "extent": [5658, 5672], "body": [{"type": "para", "indent": 4, "text": ["Creates an attribute containing the depth of each point within the surface of the object."], "extent": [5698, 5793]}], "container": true, "attrs": {"id": "pointdepthattrib"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5793, 5802], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/booleanfracture", "type": "link", "text": "", "fullpath": "/nodes/sop/booleanfracture"}], "extent": [5802, 5835]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/rbdcluster", "type": "link", "text": "", "fullpath": "/nodes/sop/rbdcluster"}], "extent": [5835, 5863]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/voronoifracture", "type": "link", "text": "", "fullpath": "/nodes/sop/voronoifracture"}], "extent": [5863, 5896]}], "container": true}], "text": "Related"}], "title": ["RBD Interior Detail"], "summary": ["Creates additional detail on the interior surfaces of fractured geometry."], "included": ["/nodes/vop/unifiednoise", "/nodes/vop/unifiednoise_static"]}