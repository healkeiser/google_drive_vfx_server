{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "flipsolver", "icon": "DOP/flipsolver", "index": "no", "since": "11.0", "version": "", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["FLIP Solver"], "extent": [95, 111]}, {"type": "summary", "indent": 0, "text": ["Evolves an object as a FLIP fluid object."], "extent": [111, 161]}, {"type": "para", "indent": 0, "text": ["The FLIP Solver DOP evolves an object dynamically as a particle fluid."], "extent": [161, 233]}, {"type": "para", "indent": 0, "text": ["A FLIP solver is a type of hybrid between a particle based and volume\nbased fluid simulations.  All fluid data is stored in the particles and only\nparticles need to persist frame to frame, ensuring no unwanted mixing or loss\nof fluid can occur.  However, the pressure projection step is done on a volume\nthat is created just in time. The fluid is represented by particles with their ", {"type": "code", "text": ["pscale"]}, ", and can be moved around with POP and DOP forces. "], "extent": [233, 677]}, {"type": "para", "indent": 0, "text": ["When FLIP fluids are solved, a temporary velocity field is made. The particle velocities are transferred to this grid and the grid is used to perform the fluid projection. This is what prevents the particles from all going on top of each other and start moving in similar directions. "], "extent": [677, 963]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [963, 969], "body": [{"type": "para", "indent": 4, "text": ["Advanced users can also add volume velocity forces at this stage as well."], "extent": [969, 1048]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["FLIP fluids are faster than SPH fluids, if you don\u2019t need to substep the FLIP fluid. If you need to substep the FLIP fluid because of fast moving colliders, you may find SPH just as a fast or faster. FLIP fluids are also useful because particles can be placed on top of each other without destabilizing the system. SPH tends to blow up if you move particles too close."], "extent": [1048, 1418]}, {"type": "para", "indent": 0, "text": ["The advantage of the FLIP Solver is that you run with only one time step per frame while SPH requires anywhere from 7 to 20 time steps or more per frame to stabilize. FLIP utilizes a few grids (volume fields) to help tame the instantaneous impulses that can arise in a fluid sim. "], "extent": [1418, 1700]}, {"type": "para", "indent": 0, "text": ["Various fields are used to tame the FLIP Solver so that you can run far fewer points at far fewer time steps and the inter-spacing between particles can be random. You can introduce new particles at any time with little to no consequence. This opens up so many new work flows in POPs that were simply not possible with SPH. For example, introducing splash particles with their own property attributes is now possible. "], "extent": [1700, 2120]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [2120, 2132], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Substeps"], "extent": [2132, 2152], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Min Substeps"], "extent": [2152, 2175], "body": [{"type": "para", "indent": 12, "text": ["The FLIP solver will always enforce this minimum\n            number of substeps. "], "extent": [2175, 2286]}, {"type": "para", "indent": 12, "text": ["This should only rarely need to be changed."], "extent": [2286, 2342]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Max Substeps"], "extent": [2342, 2364], "body": [{"type": "para", "indent": 12, "text": ["The FLIP solver will not break the simulation\n            down in to more substeps than this value. "], "extent": [2364, 2478]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["CFL Condition"], "extent": [2478, 2501], "body": [{"type": "para", "indent": 12, "text": ["The CFL condition is a factor used to automatically\n            determine what size substep the scene requires. The idea is\n            to control the distance that a particle in the particle\n            fluid object can travel in a given substep. "], "extent": [2501, 2763]}, {"type": "para", "indent": 12, "text": ["For example, when this parameter is set to 0.5, the solver will set\n            the length of each substep such that no particle travels\n            more than 50% of its particle separation in a given substep."], "extent": [2763, 2986]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Particle Motion"], "extent": [2986, 3012], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Keep Particles Apart"], "extent": [3012, 3043], "body": [{"type": "para", "indent": 12, "text": ["Despite the velocity projection stage, particles can end up closer\n            together than their ", {"type": "code", "text": ["pscale"]}, " attribute.  When this happens, internal\n            forces can\u2019t separate the particles because the velocity projection\n            will remove those forces.  This results in the fluid compressing\n            over time."], "extent": [3043, 3388]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Separation Iterations"], "extent": [3388, 3419], "body": [{"type": "para", "indent": 12, "text": ["The number of times to perform the separation relaxation step.  This value can usually be set to 1 since successive frames of separation will have the same effect."], "extent": [3419, 3596]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Separation Rate"], "extent": [3596, 3621], "body": [{"type": "para", "indent": 12, "text": ["How far to move the particles towards their desired separation\n            locations.  This can be reduced to get the effect of a fractional\n            iteration."], "extent": [3621, 3798]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Separation Scale"], "extent": [3798, 3824], "body": [{"type": "para", "indent": 12, "text": ["A fudge factor to account for the inability for the particles to\n            actually pack at the ", {"type": "code", "text": ["pscale"]}, " amount due to the sphere packing\n            problem.  To test different values, run a FLIP solve without any\n            volume or particle forces and see which values cause your initial\n            particles to retain the desired volume."], "extent": [3824, 4184]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Detect Particle Collisions"], "extent": [4184, 4220], "body": [{"type": "para", "indent": 12, "text": ["Performs particle collision detection against SDFs and cloth."], "extent": [4220, 4295]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Apply External Forces"], "extent": [4295, 4326], "body": [{"type": "para", "indent": 12, "text": ["Standard DOP forces, such as gravity from a ", {"scheme": "Node", "value": "/nodes/dop/gravity", "type": "link", "text": ["Gravity DOP"], "fullpath": "/nodes/dop/gravity"}, ", will be applied to the particles."], "extent": [4326, 4449]}, {"type": "para", "indent": 12, "text": ["This would only be turned off if you are combining a FLIP solver as\n            part of a larger solver system. "], "extent": [4449, 4575]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Integrate Particles"], "extent": [4575, 4604], "body": [{"type": "para", "indent": 12, "text": ["The particles will update their position according to their\n            velocities."], "extent": [4604, 4701]}, {"type": "para", "indent": 12, "text": ["This would only be turned off if you are combining a FLIP solver as\n            part of a larger solver system. "], "extent": [4701, 4827]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Volume Motion"], "extent": [4827, 4851], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["FLIP Solve"], "extent": [4851, 4872], "body": [{"type": "para", "indent": 12, "text": ["Turning this off removes the velocity projection step, turning the\n            FLIP solver into regular particle solver."], "extent": [4872, 5006]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Force Scale"], "extent": [5006, 5027], "body": [{"type": "para", "indent": 12, "text": ["The result of the velocity projection is a suggested change to the\n            particles velocity.  The force scale allows you to scale this\n            change.  A value of 1 will update the particles to the new desired\n            velocity, 0 will leave them unchanged."], "extent": [5027, 5311]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Force Override"], "extent": [5311, 5335], "body": [{"type": "para", "indent": 12, "text": ["If enabled, this attribute will disable the volume forces wherever\n            it is 1 on the particles, and enable it when where they are 0.  Ie,\n            particles with this attribute at one will fly ballistically with no\n            reference to other particles.  Note that their motion will still\n            affect other particles which have volume forces, however."], "extent": [5335, 5722]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Smoothing"], "extent": [5722, 5741], "body": [{"type": "para", "indent": 12, "text": ["Particles can either update themselves with the change in velocity\n            determined by the projection, or update themselves with the actual\n            new velocity from the projection.  The latter causes particles to\n            smooth out as they share more of their velocities with their\n            neighbors."], "extent": [5741, 6074]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 8, "text": ["Surface"], "extent": [6074, 6096], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 12, "text": ["Point Radius Scale"], "extent": [6096, 6129], "body": [{"type": "para", "indent": 16, "text": ["Adjusts the effective radius of the particles when computing\n                which grid cells they have influence in."], "extent": [6129, 6264]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Method"], "extent": [6264, 6284], "body": [{"type": "para", "indent": 16, "text": ["How the influence surface is computed."], "extent": [6284, 6340]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 8, "text": ["Divergence"], "extent": [6340, 6365], "body": [{"type": "para", "indent": 12, "text": ["By default, the volume motion is divergence free.  These enforces\n            neighboring particles to neither separate nor converge.  However,\n            you may want to adjust the particle spacing.  Doing this with\n            forces is difficult because the volume projection will undo your\n            forces."], "extent": [6365, 6694]}, {"type": "para", "indent": 12, "text": ["Instead, you can add a per-particle float attribute to store how\n            much the particles should diverge.  Positive values cause particles\n            to spread out, and negative values cause them to clump together."], "extent": [6694, 6929]}, {"type": "para", "indent": 12, "text": ["If you override the ", {"type": "ui", "text": ["Divergence"]}, " field through the ", {"type": "ui", "text": ["Volume Force"]}, " input to the flip solver, you can arbitrarily edit the divergence field."], "extent": [6929, 7085]}, {"type": "para", "indent": 12, "text": ["You must turn on ", {"type": "ui", "text": ["Add Divergence Field"]}, " in the ", {"scheme": "Node", "value": "/nodes/dop/flipconfigureobject", "type": "link", "text": ["FLIP Configure Object"], "fullpath": "/nodes/dop/flipconfigureobject"}, "\n            for this to work."], "extent": [7085, 7230]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 12, "text": ["Diverge by Attribute"], "extent": [7230, 7264], "body": [{"type": "para", "indent": 16, "text": ["Use the specified attribute to overwrite the divergence field."], "extent": [7264, 7344]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Attribute Name"], "extent": [7344, 7372], "body": [{"type": "para", "indent": 16, "text": ["The float attribute on the particles to use for the divergence\n                amount."], "extent": [7372, 7476]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Mix Method"], "extent": [7476, 7500], "body": [{"type": "para", "indent": 16, "text": ["How to blend the point attribute with any existing divergence\n                field.  The divergence field is not reset frame-to-frame."], "extent": [7500, 7653]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Divergence Scale"], "extent": [7653, 7683], "body": [{"type": "para", "indent": 16, "text": ["A scale applied to the divergence field after applying the\n                attribute effect.  This is useful for quickly adjusting the\n                global amount of divergence."], "extent": [7683, 7880]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 8, "text": ["Projection"], "extent": [7880, 7905], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 12, "text": ["Sticky Fluid"], "extent": [7905, 7932], "body": [{"type": "para", "indent": 16, "text": ["Determine if collision objects should prevent fluid from\n                leaving their surface instead of just preventing the\n                fluid from entering their surface.  "], "extent": [7932, 8128]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Preserve Bubbles"], "extent": [8128, 8158], "body": [{"type": "para", "indent": 16, "text": ["Trapped air will be given a pressure value independent of the\n                boundary pressure conditions. This prevents the bubbles from\n                collapsing in on themselves. If not set, fluid will be free to\n                flow into bubbles from all sides ensuring their\n                swift dissipation."], "extent": [8158, 8517]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Ghost Fluid"], "extent": [8517, 8542], "body": [{"type": "para", "indent": 16, "text": ["Pressures are extrapolated into air cells rather than just set\n                to zero.  This causes sub-voxel ripples in the air side to be\n                suppressed."], "extent": [8542, 8744]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Variational"], "extent": [8744, 8769], "body": [{"type": "para", "indent": 16, "text": ["Contribution to the pressure equation is proportional to the\n                amount of the cell in the liquid.  This attempts to avoid\n                stairstep boundaries on solid boundaries.  Currently, only at\n                most one of ", {"type": "ui", "text": ["Ghost Fluid"]}, " and ", {"type": "ui", "text": ["Variational"]}, " should be set."], "extent": [8769, 9078]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Feedback Scale"], "extent": [9078, 9106], "body": [{"type": "para", "indent": 16, "text": ["A scale factor used in applying feedback forces to other\n                objects.  A value of zero prevents any feedback from\n                occurring.  "], "extent": [9106, 9278]}, {"type": "para", "indent": 16, "text": ["The value can be thought of as a density, so to\n                have a default ", {"scheme": "Node", "value": "/nodes/dop/rbdobject", "type": "link", "text": ["RBD object"], "fullpath": "/nodes/dop/rbdobject"}, " to balance, a\n                value of 1000 should be used."], "extent": [9278, 9466]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Velocity Type"], "extent": [9466, 9493], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 16, "text": ["Rigid Velocity"], "extent": [9493, 9525], "body": [{"type": "para", "indent": 20, "text": ["The collision velocity of the object is calculated by\n                    treating it as a rigid body.  Only the angular\n                    velocity and linear velocity will be used, no local\n                    deformation will be taken into account."], "extent": [9525, 9798]}], "container": true}, {"type": "dt", "indent": 16, "text": ["Point Velocity"], "extent": [9798, 9830], "body": [{"type": "para", "indent": 20, "text": ["The collision velocity of the object tries to take into\n                    account deformation by using point history.  This only\n                    works if the topology doesn\u2019t change."], "extent": [9830, 10039]}], "container": true}, {"type": "dt", "indent": 16, "text": ["Volume Velocity"], "extent": [10039, 10072], "body": [{"type": "para", "indent": 20, "text": ["Uses the SDF representation of the object to detect\n                    deformation.  Does not require a fixed topology over\n                    time, but cannot detect tangential velocities."], "extent": [10072, 10285]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Preconditioner"], "extent": [10285, 10313], "body": [{"type": "para", "indent": 16, "text": ["Controls which preconditioner is used for the conjugate\n                gradient operation.  This should be left on ", {"type": "ui", "text": ["Modified Incomplete\n                Cholesky"]}, " as it is the fastest to converge."], "extent": [10313, 10528]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 12, "text": ["Iterations"], "extent": [10528, 10552], "body": [{"type": "para", "indent": 16, "text": ["When the velocity field is center sampled, this specifies the\n                number of iterations used to project it.  The number of\n                iterations also controls the maximum distance any change in\n                the velocity field can have, so should be about the width of\n                the volume in voxels.  Lower iterations will be faster but the\n                field will not be as nice."], "extent": [10552, 10978]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 8, "text": ["Volume Limits"], "extent": [10978, 11006], "body": [{"type": "para", "indent": 12, "text": ["If stray particles fly off too far, the resulting volume grid can\n            become unwieldily even with constant tile compression.  This tab allows you to set maximum bounds."], "extent": [11006, 11198]}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Distribution"], "extent": [11198, 11221], "body": [{"type": "para", "indent": 8, "text": ["When distributing a particle fluid simulation it is important\n        that each machine uses the same number of substeps.  These\n        distribution parameters will synchronize the substeps."], "extent": [11221, 11423]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Tracker Address"], "extent": [16, 33], "body": [{"type": "para", "indent": 4, "text": ["What machine will run the simtracker.py process for synchronization.\n    If this is blank, there will be no attempt at synchronization or data transfer."], "extent": [33, 190]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Tracker Port"], "extent": [190, 204], "body": [{"type": "para", "indent": 4, "text": ["The port specified when starting the simtracker.py process for\n    communication."], "extent": [204, 290]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Job Name"], "extent": [290, 300], "body": [{"type": "para", "indent": 4, "text": ["The job name to describe this synchronization or data exchange\n    event.  By using different job names one can have machines part of\n    separate data-exchange and synchronization events."], "extent": [300, 493]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Slice/Peer"], "extent": [493, 505], "body": [{"type": "para", "indent": 4, "text": ["The slice number that this machine should report itself as.  Each\n    machine connecting under the job name should have its own unique\n    slice number.  Sometimes this can be inferred from the operation\n    so this parameter will be absent."], "extent": [505, 751]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Slice/Number of Peers"], "extent": [751, 784], "body": [{"type": "para", "indent": 4, "text": ["Total number of machines that have to synchronize.  Sometimes this\n    can be determined from the operation, so this parameter will be\n    absent."], "extent": [784, 935]}], "container": true, "role": "item"}], "container": true}]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Parameter Operations"], "extent": [16, 38], "body": [{"type": "para", "indent": 4, "text": ["Each data option parameter has an associated menu which specifies\n    how that parameter operates."], "extent": [38, 142]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Use Default "], "extent": [142, 160], "body": [{"type": "para", "indent": 8, "text": ["Use the value from the Default Operation menu."], "extent": [160, 215]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set Initial "], "extent": [215, 233], "body": [{"type": "para", "indent": 8, "text": ["Set the value of this parameter only when this data is created.\n        On all subsequent timesteps, the value of this parameter is not\n        altered. This is useful for setting up initial conditions like\n        position and velocity."], "extent": [233, 479]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set Always "], "extent": [479, 496], "body": [{"type": "para", "indent": 8, "text": ["Always set the value of this parameter. This is useful when\n        specific keyframed values are required over time. This could be\n        used to keyframe the position of an object over time, or to\n        cause the geometry from a SOP to be refetched at each timestep\n        if the geometry is deforming. "], "extent": [496, 823]}, {"type": "para", "indent": 8, "text": ["You can also use this setting in\n        conjunction with the local variables for a parameter value to\n        modify a value over time. For example, in the X Position, an\n        expression like ", {"type": "code", "text": ["$tx + 0.1"]}, " would cause the object to\n        move 0.1 units to the right on each timestep."], "extent": [823, 1119]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set Never "], "extent": [1119, 1135], "body": [{"type": "para", "indent": 8, "text": ["Do not ever set the value of this parameter. This option is most\n        useful when using this node to modify an existing piece of data\n        connected through the first input. "], "extent": [1135, 1333]}, {"type": "para", "indent": 8, "text": ["For example, an ", {"scheme": "Node", "value": "/nodes/dop/rbdstate", "type": "link", "text": ["RBD State\n        DOP"], "fullpath": "/nodes/dop/rbdstate"}, " may want to animate just the mass of an\n        object, and nothing else. The ", {"type": "ui", "text": ["Set Never"]}, " option could be used\n        on all parameters except for ", {"type": "ui", "text": ["Mass"]}, ", which would use ", {"type": "ui", "text": ["Set\n        Always"]}, "."], "extent": [1333, 1608]}], "container": true}], "container": true}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Default Operation"], "extent": [1608, 1627], "body": [{"type": "para", "indent": 4, "text": ["For any parameters with their ", {"type": "ui", "text": ["Operation"]}, " menu set to ", {"type": "ui", "text": ["Use\n    Default"]}, ", this parameter controls what operation is used. "], "extent": [1627, 1762]}, {"type": "para", "indent": 4, "text": ["This\n    parameter has the same menu options and meanings as the ", {"type": "ui", "text": ["Parameter\n    Operations"]}, " menus, but without the ", {"type": "ui", "text": ["Use Default"]}, " choice."], "extent": [1762, 1908]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Make Objects Mutual Affectors"], "extent": [15, 46], "body": [{"type": "para", "indent": 4, "text": ["All objects connected to the first input of this node become mutual\n    affectors. "], "extent": [46, 139]}, {"type": "para", "indent": 4, "text": ["This is equivalent to using an ", {"scheme": "Node", "value": "/nodes/dop/affector", "type": "link", "text": ["Affector\n    DOP"], "fullpath": "/nodes/dop/affector"}, " to create an affector relationship between\n    ", {"type": "code", "text": ["*"]}, " and ", {"type": "code", "text": ["*"]}, " before connecting it to this node. This option makes it\n    convenient to have all objects feeding into a solver node affect\n    each other."], "extent": [139, 412]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [15, 22], "body": [{"type": "para", "indent": 4, "text": ["When an object connector is attached to the first input of this\n    node, this parameter can be used to choose a subset of those objects\n    to be affected by this node."], "extent": [45, 219]}], "container": true, "attrs": {"channels": "/group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Data Name"], "extent": [15, 26], "body": [{"type": "para", "indent": 4, "text": ["Indicates the name that should be used to attach the data to an\n    object or other piece of data. If the Data Name contains a ", {"type": "q", "text": ["/"]}, " (or\n    several), that indicates traversing inside subdata. "], "extent": [26, 227]}, {"type": "para", "indent": 4, "text": ["For example, if the ", {"scheme": "Node", "value": "/nodes/dop/fan", "type": "link", "text": ["Fan Force DOP"], "fullpath": "/nodes/dop/fan"}, " has the default Data Name\n    ", {"type": "q", "text": ["Forces/Fan"]}, ". This attaches the data with the name ", {"type": "q", "text": ["Fan"]}, " to an\n    existing piece of data named ", {"type": "q", "text": ["Forces"]}, ". If no data named ", {"type": "q", "text": ["Forces"]}, "\n    exists, a simple piece of container data is created to hold the\n    ", {"type": "q", "text": ["Fan"]}, " subdata."], "extent": [227, 530]}, {"type": "para", "indent": 4, "text": ["Different pieces of data have different requirements on what names\n    should be used for them. Except in very rare situations, the default\n    value should be used. Some exceptions are described with particular\n    pieces of data or with solvers that make use of some particular type\n    of data."], "extent": [530, 833]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Unique Data Name"], "extent": [833, 851], "body": [{"type": "para", "indent": 4, "text": ["Turning on this parameter modifies the ", {"type": "ui", "text": ["Data Name"]}, " parameter\n    value to ensure that the data created by this node is attached with\n    a unique name so it will not overwrite any existing data. "], "extent": [851, 1058]}, {"type": "para", "indent": 4, "text": ["With this\n    parameter turned off, attaching two pieces of data with the same\n    name will cause the second one to replace the first. There are\n    situations where each type of behavior is desirable. "], "extent": [1058, 1271]}, {"type": "para", "indent": 4, "text": ["If an object\n    needs to have several ", {"scheme": "Node", "value": "/nodes/dop/fan", "type": "link", "text": ["Fan Forces"], "fullpath": "/nodes/dop/fan"}, " blowing on it, it is\n    much easier to use the ", {"type": "ui", "text": ["Unique Data Name"]}, " feature to ensure that\n    each fan does not overwrite a previous fan rather than trying to\n    change the ", {"type": "ui", "text": ["Data Name"]}, " of each fan individually to avoid\n    conflicts. "], "extent": [1271, 1585]}, {"type": "para", "indent": 4, "text": ["On the other hand, if an object is known to have ", {"scheme": "Node", "value": "/nodes/dop/rbdstate", "type": "link", "text": ["RBD\n    State"], "fullpath": "/nodes/dop/rbdstate"}, " data already attached to it, leaving this\n    option turned off will allow some new ", {"scheme": "Node", "value": "/nodes/dop/rbdstate", "type": "link", "text": ["RBD State"], "fullpath": "/nodes/dop/rbdstate"}, "\n    data to overwrite the existing data."], "extent": [1585, 1827]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Solver Per Object"], "extent": [159, 178], "body": [{"type": "para", "indent": 4, "text": ["The default behavior for solvers is to attach the exact same solver to all\n    of the objects specified in the group.  This allows the objects to be\n    processed in a single pass by the solver, since the parameters are identical\n    for each object.  However, some objects operate more logically on a single\n    object at a time.  In these cases, one may want to use ", {"type": "code", "text": ["$OBJID"]}, " expressions\n    to vary the solver parameters across the objects.  Setting this toggle will\n    create a separate solver per object, allowing ", {"type": "code", "text": ["$OBJID"]}, " to vary as expected."], "extent": [178, 731]}], "container": true, "role": "item"}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [11505, 11513], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Fluid to Solve"], "extent": [11513, 11533], "body": [{"type": "para", "indent": 8, "text": ["The simulation object to evolve as a particle fluid."], "extent": [11533, 11594]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Particle Velocity"], "extent": [11594, 11617], "body": [{"type": "para", "indent": 8, "text": ["This input injects microsolvers after the particle velocity has been\n        updated but before it has been transferred to the volume fields.  It is\n        thus the ideal place to add solvers that manipulate the particle\n        velocity or position still farther."], "extent": [11617, 11891]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Volume Velocity"], "extent": [11891, 11912], "body": [{"type": "para", "indent": 8, "text": ["Solvers in the volume velocity input are added after the volume\n        velocity field has been created but before it has been made\n        non-divergent.  This is the best place for field-affecting microsolvers\n        to be attached, and the only place for microsolvers that want to add\n        forces to the velocity field."], "extent": [11912, 12247]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Post Solve"], "extent": [12247, 12263], "body": [{"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [12263, 12277], "body": [{"type": "para", "indent": 12, "text": ["This input has be deprecated.   Use a multisolver to do post-solve\n            operations."], "extent": [12277, 12389]}], "container": true}], "container": true, "role": "item_group"}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips"], "extent": [12389, 12400], "body": [{"type": "para", "indent": 0, "text": ["The ", {"type": "ui", "text": ["Velocity"]}, " fields are heavily blurred and thresholded for large changes in velocity, which is completely tunable if the FLIP solver appears to be exploding. The ", {"type": "ui", "text": ["Pressure"]}, " field is used to monitor any areas of very high and very low pressure and then the fluid sim can compensate the ", {"type": "ui", "text": ["Velocity"]}, " fields which then push the points around. This is where the controls for cavitation, entrapped air, and fluid escape are managed to a great extent. The ", {"type": "ui", "text": ["Surface"]}, " field can be used to test the past if some particles have flown far too far off the surface and then constrained back."], "extent": [12400, 12990]}]}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [12990, 12999], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["First Output"], "extent": [15, 29], "body": [{"type": "para", "indent": 4, "text": ["The operation of this output depends on what inputs are connected\n    to this node. If an object stream is input to this node, the output\n    is also an object stream containing the same objects as the input\n    (but with the data from this node attached). "], "extent": [29, 296]}, {"type": "para", "indent": 4, "text": ["If no object stream is\n    connected to this node, the output is a data output. This data\n    output can be connected to an ", {"scheme": "Node", "value": "/nodes/dop/applydata", "type": "link", "text": ["Apply Data DOP"], "fullpath": "/nodes/dop/applydata"}, ",\n    or connected directly to a data input of another data node, to\n    attach the data from this node to an object or another piece of\n    data."], "extent": [296, 606]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [13037, 13046], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/particlefluidobject", "type": "link", "text": "", "fullpath": "/nodes/dop/particlefluidobject"}], "extent": [13046, 13083]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/flipconfigureobject", "type": "link", "text": "", "fullpath": "/nodes/dop/flipconfigureobject"}], "extent": [13083, 13120]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/particlefluidemitter", "type": "link", "text": "", "fullpath": "/nodes/dop/particlefluidemitter"}], "extent": [13120, 13158]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/particlefluidsink", "type": "link", "text": "", "fullpath": "/nodes/dop/particlefluidsink"}], "extent": [13158, 13193]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/gasintegrator", "type": "link", "text": "", "fullpath": "/nodes/dop/gasintegrator"}], "extent": [13193, 13224]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/particlefluidsurface", "type": "link", "text": "", "fullpath": "/nodes/sop/particlefluidsurface"}], "extent": [13224, 13263]}], "container": true}], "text": "Related"}], "title": ["FLIP Solver"], "summary": ["Evolves an object as a FLIP fluid object."], "included": ["/nodes/dop/standard_data_outputs", "/nodes/dop/standard_datagroup_parms", "/nodes/dop/standard_dataname_parms", "/nodes/dop/standard_dataop_parms", "/nodes/dop/standard_distribution", "/nodes/dop/standard_solver_mutualparms", "/nodes/dop/standard_solver_parms"]}